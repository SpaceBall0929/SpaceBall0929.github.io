<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-CS61A/27-scheme lab10 hw7" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/08/20/CS61A/27-scheme%20lab10%20hw7/" class="article-date">
  <time datetime="2022-08-20T03:33:24.000Z" itemprop="datePublished">2022-08-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CS61A/">CS61A</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/08/20/CS61A/27-scheme%20lab10%20hw7/">CS61A-27-scheme</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<blockquote>
<p>Scheme itself is not commonly used in production, but has influenced many other languages, and is a good example of a functional programming language.</p>
</blockquote>
</blockquote>
<h1 id="Scheme-Intro"><a href="#Scheme-Intro" class="headerlink" title="Scheme Intro"></a>Scheme Intro</h1><p>åœ¨ç»ˆç«¯ä½¿ç”¨shemeï¼šè¾“å…¥<code>mit-scheme</code></p>
<h2 id="Scheme-expressions"><a href="#Scheme-expressions" class="headerlink" title="Scheme expressions"></a>Scheme expressions</h2><ul>
<li><p>Primitive expressions: <code>2 3.3 true + quotient </code></p>
</li>
<li><p>Combinations: <code>(quotient 10 2) (not true)</code></p>
</li>
</ul>
<p>Numbers -&gt; self-evaluating;</p>
<p>symbols -&gt; bound to values.</p>
<p>schemeé‡Œçš„functionså«procedures</p>
<p>Call expressions include an operator and 0 or more operands in parenthesesï¼š</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106170253292.png" alt="image-20221106170253292" style="zoom:67%;" />

<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106170506716.png" alt="image-20221106170506716" style="zoom:80%;" />

<p>åˆ¤æ–­å³è¾¹çš„ä¸œè¥¿æ˜¯ä¸æ˜¯<code>?</code>å·¦è¾¹çš„ä¸œè¥¿:</p>
<blockquote>
<p>è¿™ä¸ª<code>?</code>å…¶å®æ˜¯å‡½æ•°åçš„ä¸€éƒ¨åˆ†å•¦â€¦ â€¦</p>
</blockquote>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106170806986.png" alt="image-20221106170806986" style="zoom:80%;" />

<h2 id="Scheme-Forms"><a href="#Scheme-Forms" class="headerlink" title="Scheme Forms"></a>Scheme Forms</h2><p>A combination that is not a call expression is a special form.</p>
<ul>
<li> if expression: <code>(if  &lt;predicate&gt; &lt;consequent&gt; &lt;alternative&gt; )</code></li>
</ul>
<ol>
<li>evaluate <code>&lt;predicate&gt;</code></li>
<li>evaluate <code>&lt;consequent&gt;</code> or <code>&lt;alternative&gt;</code></li>
</ol>
<ul>
<li><p> and or<code>(and  &lt;e1&gt; ... &lt;en&gt; ), (or &lt;e1&gt; ... &lt;en&gt; )</code></p>
</li>
<li><p> Binding symbols: <code>(define &lt;symbol&gt; &lt;expression&gt; )</code></p>
</li>
</ul>
  <img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106171944068.png" alt="image-20221106171944068" style="zoom:80%;" />

<ul>
<li> New procedures: <code>(define (&lt;symbol&gt; &lt;formal parameters&gt;) &lt;body&gt;)</code></li>
</ul>
  <img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106172025295.png" alt="image-20221106172025295" style="zoom:80%;" />

  

<blockquote>
<p>æœ‰ç‚¹åƒæ±‡ç¼–è¯­è¨€</p>
</blockquote>
<h6 id="è‡ªå·±ä¸Šæœºæ“ä½œ"><a href="#è‡ªå·±ä¸Šæœºæ“ä½œ" class="headerlink" title="è‡ªå·±ä¸Šæœºæ“ä½œ"></a>è‡ªå·±ä¸Šæœºæ“ä½œ</h6><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106172544986.png" alt="image-20221106172544986" style="zoom:67%;" />

<p>å¯ä»¥åµŒå¥—:</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106172600444.png" alt="image-20221106172600444" style="zoom:67%;" />

<p>é€’å½’è°ƒç”¨:</p>
<p>ç‰›é¡¿è¿­ä»£æ³•æ±‚sqrt</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106173332774.png" alt="image-20221106173332774" style="zoom:80%;" />

<h5 id="lambda-expressions"><a href="#lambda-expressions" class="headerlink" title="lambda expressions"></a>lambda expressions</h5><p>evaluate to anonymous procedures</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106173607583.png" alt="image-20221106173607583" style="zoom:80%;" />

<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106173716179.png" alt="image-20221106173716179" style="zoom:80%;" />

<h5 id="more-special-forms"><a href="#more-special-forms" class="headerlink" title="more special forms"></a>more special forms</h5><h6 id="Cond-amp-Begin"><a href="#Cond-amp-Begin" class="headerlink" title="Cond &amp; Begin"></a>Cond &amp; Begin</h6><p> cond behaves like if-elif-else statements in Python</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106203717850.png" alt="image-20221106203717850" style="zoom:80%;" />

<p>begin combines multiple expressions into one expression</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106204134929.png" alt="image-20221106204134929" style="zoom: 67%;" />

<p> let binds symbols to values temporarily; just for one expression</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106204406176.png" alt="image-20221106204406176" style="zoom:80%;" />

<p>æ³¨:åœ¨schemeä¸­,ä¸€èˆ¬ç”¨letä¸ç”¨define,defineå°±åƒå®ä¸€æ ·ç”¨äºå®šä¹‰â€œpermanentâ€çš„ä¸œè¥¿</p>
<h6 id="eg-Sierpinskiâ€™s-Triangle"><a href="#eg-Sierpinskiâ€™s-Triangle" class="headerlink" title="eg:Sierpinskiâ€™s Triangle"></a>eg:Sierpinskiâ€™s Triangle</h6><p>æ“æ§å°ç®­å¤´</p>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">fd</span> <span class="number">40</span>) //å‘å‰</span><br><span class="line">(<span class="name">rt</span> <span class="number">90</span>) //å³è½¬<span class="number">90</span>Â°</span><br><span class="line">(<span class="name">lt</span> <span class="number">90</span>)</span><br></pre></td></tr></table></figure>

<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106205310037.png" alt="image-20221106205310037" style="zoom:80%;" />

<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">speed</span> <span class="number">0</span>)</span><br><span class="line">(<span class="name">rt</span> <span class="number">90</span>)</span><br><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">line</span>) (<span class="name">fd</span> <span class="number">100</span>))</span><br><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">twice</span> fn) (<span class="name">fn</span>) (<span class="name">fn</span>))</span><br><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">repeat</span> k fn)</span><br><span class="line">  <span class="comment">; Repeat fn k times.</span></span><br><span class="line">  (<span class="name">fn</span>)</span><br><span class="line">  (<span class="name"><span class="built_in">if</span></span> (<span class="name"><span class="built_in">&gt;</span></span> k <span class="number">1</span>) (<span class="name">repeat</span> (<span class="name"><span class="built_in">-</span></span> k <span class="number">1</span>) fn)))</span><br><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">tri</span> fn)</span><br><span class="line">  <span class="comment">; Repeat fn 3 times, each followed by a 120 degree turn.</span></span><br><span class="line">  (<span class="name">repeat</span> <span class="number">3</span> (<span class="name"><span class="built_in">lambda</span></span> () (<span class="name">fn</span>) (<span class="name">lt</span> <span class="number">120</span>))))</span><br><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">sier</span> d k)</span><br><span class="line">  <span class="comment">; Draw three legs of Sierpinski&#x27;s triangle to depth d.</span></span><br><span class="line">  (<span class="name">tri</span> (<span class="name"><span class="built_in">lambda</span></span> ()</span><br><span class="line">         (<span class="name"><span class="built_in">if</span></span> (<span class="name"><span class="built_in">=</span></span> k <span class="number">1</span>) (<span class="name">fd</span> d) (<span class="name">leg</span> d k)))))</span><br><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">leg</span> d k)</span><br><span class="line">  <span class="comment">; Draw one leg of Sierpinski&#x27;s triangle to depth d.</span></span><br><span class="line">  (<span class="name">sier</span> (<span class="name"><span class="built_in">/</span></span> d <span class="number">2</span>) (<span class="name"><span class="built_in">-</span></span> k <span class="number">1</span>))</span><br><span class="line">  (<span class="name">penup</span>) (<span class="name">fd</span> d) (<span class="name">pendown</span>))</span><br><span class="line">(<span class="name">sier</span> <span class="number">200</span> <span class="number">5</span>)</span><br></pre></td></tr></table></figure>



<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106205650546.png" alt="image-20221106205650546" style="zoom:67%;" />

<h5 id="Lists"><a href="#Lists" class="headerlink" title="Lists"></a>Lists</h5><p>Every scheme list is a link list</p>
<ul>
<li>cons: Two-argument procedure that creates a linked list </li>
<li>car: Procedure that returns the first element of a list</li>
<li>cdr: Procedure that returns the rest of a list</li>
<li>nil: The empty list</li>
</ul>
<p> Scheme lists are written in parentheses with elements separated by spaces</p>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106211350945.png" alt="image-20221106211350945"></p>
<p>è¿˜å¯ä»¥draw</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106211737244.png" alt="image-20221106211737244" style="zoom: 67%;" />

<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106212800466.png" alt="image-20221106212800466" style="zoom:67%;" />

<h5 id="Symbolic-Programming"><a href="#Symbolic-Programming" class="headerlink" title="Symbolic Programming"></a>Symbolic Programming</h5><p>quoteå¯ä»¥è®©symbolä¹Ÿå˜æˆvalue</p>
<blockquote>
<p>äººè¯:å­—ç¬¦</p>
</blockquote>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106213749144.png" alt="image-20221106213749144"></p>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106213759104.png" alt="image-20221106213759104"></p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106213854836.png" alt="image-20221106213854836" style="zoom:80%;" />

<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106213915060.png" alt="image-20221106213915060"></p>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221106213939837.png" alt="image-20221106213939837"></p>
<h1 id="Lab-10"><a href="#Lab-10" class="headerlink" title="Lab 10"></a>Lab 10</h1><h4 id="1"><a href="#1" class="headerlink" title="1"></a>1</h4><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">------quotientæ˜¯å‘ä¸‹å–æ•´------</span><br><span class="line">scm&gt; (<span class="name"><span class="built_in">quotient</span></span> <span class="number">29</span> <span class="number">5</span>)</span><br><span class="line">? <span class="number">6</span></span><br><span class="line">-- Not quite. Try again! --</span><br><span class="line"></span><br><span class="line">? <span class="number">5</span></span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">------Scheme uses <span class="symbol">&#x27;=</span>&#x27; instead of <span class="symbol">&#x27;==</span>&#x27; for comparison------</span><br><span class="line">scm&gt; (<span class="name"><span class="built_in">=</span></span> <span class="number">1</span> <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">------or æœ€åŸå§‹çš„æ„Ÿè§‰,é‡åˆ°trueçš„å€¼å°±åœäº†------</span><br><span class="line">scm&gt; (<span class="name"><span class="built_in">or</span></span> <span class="number">1</span> <span class="literal">#t</span>)                  <span class="comment">; or special form short circuits</span></span><br><span class="line">? #t</span><br><span class="line">-- Not quite. Try again! --</span><br><span class="line">? #f</span><br><span class="line">-- Not quite. Try again! --</span><br><span class="line">? <span class="number">1</span></span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">------defineçš„è¿”å›å€¼------</span><br><span class="line">scm&gt; (<span class="name"><span class="built_in">define</span></span> x <span class="number">3</span>)</span><br><span class="line">? x</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">------lambdaåé¢çš„æ˜¯å½¢å‚,ä¸æ˜¯å‰é¢æåˆ°çš„å€¼------</span><br><span class="line">scm&gt; (<span class="name"><span class="built_in">define</span></span> x (<span class="name"><span class="built_in">lambda</span></span> (y) (<span class="name"><span class="built_in">*</span></span> y <span class="number">2</span>)))</span><br><span class="line">? x</span><br><span class="line">-- OK! --</span><br><span class="line">scm&gt; (<span class="name">x</span> y)</span><br><span class="line">? [<span class="name">14</span>,<span class="number">7</span>]</span><br><span class="line">-- Not quite. Try again! --</span><br><span class="line">? <span class="number">14</span></span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">------ifè¯­å¥æ²¡åªè¿‡å»,ä½†æ˜¯hiæ˜¯åœ¨ä¼ å‚çš„æ—¶å€™è¢«printçš„------</span><br><span class="line">scm&gt; (<span class="name">foo</span> <span class="number">1</span> <span class="number">2</span> (<span class="name">print</span> <span class="symbol">&#x27;hi</span>))</span><br><span class="line">(<span class="name">line</span> <span class="number">1</span>)? hi</span><br><span class="line">(<span class="name">line</span> <span class="number">2</span>)? <span class="number">2</span></span><br><span class="line">-- OK! --</span><br><span class="line">------schemeä¼ å‚æ˜¯ä¸ç”¨æ‹¬å·çš„ï¼-------</span><br><span class="line"></span><br><span class="line">------è¢«è€äº†è‰------</span><br><span class="line">scm&gt; ((<span class="name"><span class="built_in">lambda</span></span> (a) (<span class="name">print</span> <span class="symbol">&#x27;a</span>)) <span class="number">100</span>)</span><br><span class="line">? <span class="number">100</span></span><br><span class="line">-- Not quite. Try again! --</span><br><span class="line">? <span class="symbol">&#x27;100</span></span><br><span class="line">-- Not quite. Try again! --</span><br><span class="line">? a</span><br><span class="line">-- OK! --</span><br></pre></td></tr></table></figure>



<h4 id="2"><a href="#2" class="headerlink" title="2"></a>2</h4><p>å…³äºä»€ä¹ˆæ—¶å€™åŠ æ‹¬å·çš„é—®é¢˜ï¼š</p>
<p>å‡½æ•°å®šä¹‰<code>define (over-or-under num1 num2) </code> åº”è¯¥æ˜¯æŠŠåé¢ <code>å‡½æ•°å å‚æ•°</code>ä¹Ÿçœ‹æˆä¸€ä¸ªexpressionäº†</p>
<blockquote>
<p>çœ‹æ¥schemeå¯¹ç†è§£ç¼–è¯‘åŸç†æ˜¯æœ‰å¸®åŠ©çš„é˜¿â€¦</p>
</blockquote>
<h4 id="3"><a href="#3" class="headerlink" title="3"></a>3</h4><blockquote>
<p>Write the procedure <code>make-adder</code> which takes in an initial number, <code>num</code>, and then returns a procedure. This returned procedure takes in a number <code>inc</code> and returns the result of <code>num + inc</code>.</p>
</blockquote>
<p> Scheme will automatically <strong>return the last clause</strong> in your procedure.</p>
<p>æ›´æ·±çš„ç†è§£:</p>
<p><code>(æ“ä½œ  å‚æ•°)</code></p>
<p>æ—¢ç„¶å®ƒä¼šè‡ªåŠ¨è¿”å›æœ€åä¸€ä¸ªclause</p>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">make-adder</span> num) </span><br><span class="line">    (<span class="name"><span class="built_in">define</span></span> (<span class="name">add</span> inc) (<span class="name"><span class="built_in">+</span></span> num inc))</span><br><span class="line">    add)</span><br></pre></td></tr></table></figure>

<p>é‚£æœ€åä¸€ä¸ªclauseå°±ç›´æ¥ç•™ä¸€ä¸ªå‡½æ•°å§!</p>
<h4 id="4"><a href="#4" class="headerlink" title="4"></a>4</h4><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">scm&gt; c</span><br><span class="line">? (<span class="name">3</span> (<span class="name">2</span> <span class="number">1</span>))</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (<span class="name"><span class="built_in">cdr</span></span> c)</span><br><span class="line">? (<span class="name">2</span> <span class="number">1</span>)</span><br><span class="line">-- Not quite. Try again! --</span><br><span class="line"></span><br><span class="line">? ((<span class="name">2</span> <span class="number">1</span>))</span><br><span class="line">-- OK! --</span><br></pre></td></tr></table></figure>
<p>cdræ˜¯ä¸€ä¸ªlist</p>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">scm&gt; (<span class="name"><span class="built_in">cdr</span></span> (<span class="name"><span class="built_in">car</span></span> (<span class="name"><span class="built_in">cdr</span></span> c)))</span><br><span class="line">? nil</span><br><span class="line">-- Not quite. Try again! --</span><br><span class="line"></span><br><span class="line">?</span><br><span class="line">-- Not quite. Try again! --</span><br><span class="line"></span><br><span class="line">? ()</span><br><span class="line">-- Not quite. Try again! --</span><br><span class="line"></span><br><span class="line">? <span class="number">1</span></span><br><span class="line">-- Not quite. Try again! --</span><br><span class="line"></span><br><span class="line">? (<span class="name">1</span>)</span><br><span class="line">-- OK! --</span><br></pre></td></tr></table></figure>

<p><img src="https://inst.eecs.berkeley.edu/~cs61a/fa21/lab/lab10/assets/list2.png" alt="linked list"></p>
<p>2ä¸æ˜¯sublistçš„å¼€å¤´å…ƒç´ ,è€Œæ˜¯è¿™ä¸ªlistçš„ç¬¬äºŒä¸ªå…ƒç´ </p>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">type out exactly how Scheme would print the list that will be defined in this problem (<span class="name">see</span> spec)</span><br><span class="line">? ((<span class="name">1</span>) <span class="number">2</span> (<span class="name">3</span> <span class="number">4</span>) <span class="number">5</span>)</span><br><span class="line">-- OK! --</span><br></pre></td></tr></table></figure>

<p>implementä¸€ä¸ªscheme listçš„æ–¹æ³•:<br>å…ˆæŠŠæ‰“å°å½¢å¼å†™å‡ºæ¥,ç„¶åå†æŠŠconså’ŒnilåŠ è¿›å»</p>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> lst </span><br><span class="line">   (<span class="name"><span class="built_in">cons</span></span> (<span class="name"><span class="built_in">cons</span></span> <span class="number">1</span> nil) </span><br><span class="line">         (<span class="name"><span class="built_in">cons</span></span> <span class="number">2</span> </span><br><span class="line">                 (<span class="name"><span class="built_in">cons</span></span> (<span class="name"><span class="built_in">cons</span></span> <span class="number">3</span> (<span class="name"><span class="built_in">cons</span></span> <span class="number">4</span> nil)) </span><br><span class="line">                       (<span class="name"><span class="built_in">cons</span></span> <span class="number">5</span> nil)))</span><br><span class="line">         )</span><br><span class="line">     )</span><br></pre></td></tr></table></figure>

<h1 id="HW-07"><a href="#HW-07" class="headerlink" title="HW 07"></a>HW 07</h1><h5 id="2-1"><a href="#2-1" class="headerlink" title="2"></a>2</h5><p>è¿™é‡Œçš„#tä¸èƒ½å†™æˆï¼ˆ#tï¼‰ï¼Œå› ä¸ºè¿™æ˜¯callçš„è¡¨è¾¾å¼ï¼Œè€Œ#tæ˜¯callä¸äº†çš„ã€‚</p>
<p>callçš„è¡¨è¾¾å¼ä¸€å®šè¦ç¬¦åˆ<code>(æ“ä½œ è¢«æ“ä½œçš„ä¸œè¥¿)</code></p>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">ordered?</span> s) </span><br><span class="line">    (<span class="name"><span class="built_in">cond</span></span> ((<span class="name"><span class="built_in">null?</span></span> s) <span class="literal">#t</span>)</span><br><span class="line">          ((<span class="name"><span class="built_in">null?</span></span> (<span class="name"><span class="built_in">cdr</span></span> s)) <span class="literal">#t</span>)</span><br><span class="line">          (<span class="name"><span class="built_in">else</span></span> </span><br><span class="line">                (<span class="name"><span class="built_in">if</span></span> (<span class="name"><span class="built_in">&gt;</span></span> (<span class="name"><span class="built_in">car</span></span> s) (<span class="name"><span class="built_in">cadr</span></span> s))</span><br><span class="line">                  <span class="literal">#f</span></span><br><span class="line">                  (<span class="name">ordered?</span> (<span class="name"><span class="built_in">cdr</span></span> s))))</span><br><span class="line">        )</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<h4 id="3-1"><a href="#3-1" class="headerlink" title="3"></a>3</h4><p>æ€»ä¹‹è¦æ³¨æ„è¿™ä¸€ä¸ªtest:</p>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221108203318449.png" alt="image-20221108203318449"></p>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">pow</span> base exp) </span><br><span class="line">    (<span class="name"><span class="built_in">if</span></span> (<span class="name"><span class="built_in">=</span></span> <span class="number">1</span> base)</span><br><span class="line">        <span class="number">1</span></span><br><span class="line">        (<span class="name"><span class="built_in">if</span></span> (<span class="name"><span class="built_in">even?</span></span> exp)</span><br><span class="line">        (<span class="name">square</span> (<span class="name">pow</span> base (<span class="name"><span class="built_in">/</span></span> exp <span class="number">2</span>)))</span><br><span class="line">        (<span class="name"><span class="built_in">if</span></span> (<span class="name"><span class="built_in">=</span></span> <span class="number">1</span> exp)</span><br><span class="line">            base</span><br><span class="line">            (<span class="name"><span class="built_in">*</span></span> base (<span class="name">pow</span> base (<span class="name"><span class="built_in">-</span></span> exp <span class="number">1</span>)))</span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/08/20/CS61A/27-scheme%20lab10%20hw7/" data-id="cld15jd2d0011ggpge6ts2e7d" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Computer-Sciense/" rel="tag">Computer Sciense</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-CS61A/24-data examples" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/08/18/CS61A/24-data%20examples/" class="article-date">
  <time datetime="2022-08-18T03:33:24.000Z" itemprop="datePublished">2022-08-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CS61A/">CS61A</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/08/18/CS61A/24-data%20examples/">CS61A-24</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id=""><a href="#" class="headerlink" title=""></a></h2><h3 id="Lists-in-Environment-Diagrams"><a href="#Lists-in-Environment-Diagrams" class="headerlink" title="Lists in Environment Diagrams"></a>Lists in Environment Diagrams</h3><h6 id="å¯¹æ¯”appendå’Œextend"><a href="#å¯¹æ¯”appendå’Œextend" class="headerlink" title="å¯¹æ¯”appendå’Œextend"></a>å¯¹æ¯”appendå’Œextend</h6><p>å¯¹äºappendï¼Œæ˜¯æŠŠsçš„æœ«å°¾æŒ‡å‘äº†t</p>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105145800510.png" alt="image-20221105145800510"></p>
<p>è€Œå¯¹äºextendï¼Œæ˜¯åœ¨sæœ«å°¾å¢åŠ äº†tçš„å…ƒç´ ï¼Œä¿®æ”¹tå¹¶ä¸ä¼šæ”¹å˜s</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105145942501.png" alt="image-20221105145942501" style="zoom:67%;" />



<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105150001897.png" alt="image-20221105150001897" style="zoom:67%;" />

<h6 id="addtion-amp-slicing"><a href="#addtion-amp-slicing" class="headerlink" title="addtion &amp; slicing"></a>addtion &amp; slicing</h6><p><code>a = s + [t]</code>:æ–°å»ºäº†ä¸€ä¸ªlistæŒ‡å‘t</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105150149404.png" alt="image-20221105150149404" style="zoom:67%;" />

<p>ç„¶åæŠŠså’Œè¿™ä¸ªæ–°å»ºçš„liståŠ èµ·æ¥</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105150623586.png" alt="image-20221105150623586" style="zoom:67%;" />

<p>è€Œå®é™…ä¸Š,æ–°å»ºçš„é‚£ä¸ªlistæ˜¯ä¸´æ—¶åˆ›å»º ,reachä¸åˆ°çš„,ä¸ºäº†å¥½è¡¨è¾¾,å°±å˜æˆäº†ä¸Šé¢è¿™å¹…å›¾äº†.</p>
<p><code>b = a[1:]</code>:çœ‹çœ‹bé•¿å•¥æ ·,åé¢é•¿å¾—å’Œaä¸€æ ·</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105150801265.png" alt="image-20221105150801265" style="zoom:67%;" />

<p><code>a[1] = 9 </code></p>
<p><code>b[1][1] = 0</code></p>
<p>çœ‹çœ‹<code>b[1][1]</code>æ˜¯å“ªä¸ª:<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105150929656.png" alt="image-20221105150929656" style="zoom:67%;" /></p>
<p>ei!tä¹Ÿè¢«æ”¹äº†.</p>
<h6 id="The-list-function"><a href="#The-list-function" class="headerlink" title="The list function"></a>The list function</h6><p>creates a new  list containing  existing elements</p>
<p><code>t = list(s)</code></p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105151747106.png" alt="image-20221105151747106" style="zoom:67%;" />

<h6 id="slice-assignment"><a href="#slice-assignment" class="headerlink" title="slice assignment"></a>slice assignment</h6><p>replaces a slice with  new values</p>
<p><code>s[0:0] = t</code></p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105151942789.png" alt="image-20221105151942789" style="zoom:67%;" />

<p><code>s[3:] = t</code></p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105152021481.png" alt="image-20221105152021481" style="zoom:80%;" />

<h6 id="others"><a href="#others" class="headerlink" title="others"></a>others</h6><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105152226392.png" alt="image-20221105152226392" style="zoom:80%;" />

<h6 id="Lists-in-Lists-in-Lists-in-Environment-Diagrams"><a href="#Lists-in-Lists-in-Lists-in-Environment-Diagrams" class="headerlink" title="Lists in Lists in Lists in Environment Diagrams"></a>Lists in Lists in Lists in Environment Diagrams</h6><p><code>t[1:3] = [t]</code>:å…ˆbuildä¸€ä¸ªlist containing t</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105154244843.png" alt="image-20221105154244843" style="zoom:80%;" />

<p>ç„¶åreplace:</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105154340326.png" alt="image-20221105154340326" style="zoom:67%;" />

<p><code>t.extend(t)</code></p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105154517582.png" alt="image-20221105154517582" style="zoom:67%;" />

<blockquote>
<p>???ä¸ºä»€ä¹ˆ</p>
</blockquote>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105154700475.png" alt="image-20221105154700475"></p>
<p>è€Œappendæ˜¯æŠŠt[1:2]å½“æˆä¸€ä¸ªlistå…ƒç´ åŠ è¿›å»</p>
<h2 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h2><ul>
<li>Instance attributes are found before class attributes; </li>
<li>class attributes are inherited</li>
</ul>
<p>eg:land owners</p>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105163338850.png" alt="image-20221105163338850"></p>
<p>æ³¨æ„è¿™ä¸ª<code>jack.greeting = â€˜Maamâ€™</code>å…ˆæ‰¾äº†jack instanceé‡Œçš„,ä½†æ˜¯æ²¡æœ‰,å°½ç®¡å¦‚æ­¤</p>
<p>ç„¶åå¾€jackè¿™ä¸ªinstanceé‡ŒåŠ äº†greeting,è€Œä¸æ˜¯ä¿®æ”¹äº†ç±»çš„greeting</p>
<blockquote>
<p>å°±æ˜¯è¯´,jackè‡ªå·±æ”¹äº†è‡ªå·±çš„,å½“ç„¶ä¸èƒ½è¿æ‰€æœ‰äººçš„ä¸€èµ·æ”¹å–½.</p>
</blockquote>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105164219995.png" alt="image-20221105164219995" style="zoom:80%;" />

<p>ç¬¬äºŒä¸ªæ˜¯æœ‰â€˜â€™çš„</p>
<p><code>john.elf</code>ä¼¼ä¹æ˜¯æŒ‡ä»–çš„çˆ¶äº²(ç»§æ‰¿çš„class)</p>
<h2 id="Iterables-amp-Iterators"><a href="#Iterables-amp-Iterators" class="headerlink" title="Iterables &amp; Iterators"></a>Iterables &amp; Iterators</h2><p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105164659711.png" alt="image-20221105164659711"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">min_abs_indices</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="comment">#æˆ‘çš„:</span></span><br><span class="line">    <span class="comment">#return [i for i in range(len(s)) if abs(s[i]) == abs(min(s, key=abs))]</span></span><br><span class="line">    <span class="comment">#è€å¸ˆçš„:</span></span><br><span class="line">    min_abs = <span class="built_in">min</span>(<span class="built_in">map</span>(<span class="built_in">abs</span>, s))</span><br><span class="line">    <span class="keyword">return</span> [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)) <span class="keyword">if</span> <span class="built_in">abs</span>(s[i]) == min_abs]</span><br></pre></td></tr></table></figure>

<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105164710509.png" alt="image-20221105164710509"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">largest_adj_sum</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="comment">#æˆ‘çš„(å’Œè€å¸ˆè¯´çš„ç¬¬ä¸€ç§æ–¹æ³•ä¸€æ ·ğŸ‘)</span></span><br><span class="line">    <span class="comment">#return max([s[i] + s[i + 1] for i in range(len(s) - 1)])</span></span><br><span class="line">    <span class="comment">#ç¬¬äºŒç§æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">max</span>(i + j <span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">zip</span>(s[:-<span class="number">1</span>], s[<span class="number">1</span>:]))<span class="comment">#å’Œè€å¸ˆä¸€æ ·æ</span></span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105164812217.png" alt="image-20221105164812217"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">digit_dict</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="comment">#mine</span></span><br><span class="line">    <span class="keyword">return</span> &#123;x: [y <span class="keyword">for</span> y <span class="keyword">in</span> s <span class="keyword">if</span> x == y % <span class="number">10</span>] </span><br><span class="line">            <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">map</span>(<span class="keyword">lambda</span> x: x % <span class="number">10</span>, s)&#125;</span><br><span class="line">	<span class="comment">#instructor</span></span><br><span class="line">    <span class="keyword">return</span> &#123;d: [x <span class="keyword">for</span> x <span class="keyword">in</span> s <span class="keyword">if</span> x % <span class="number">10</span> == d] <span class="keyword">for</span> d <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>) <span class="keyword">if</span> <span class="built_in">any</span>([x % <span class="number">10</span> == d <span class="keyword">for</span> x <span class="keyword">in</span> s])&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªany,ä»¥åŠdictçš„built-in functionæ˜¯æ–°æ¥è§¦åˆ°çš„ç”¨æ³•</p>
<p>any:åé¢çš„åˆ—è¡¨é‡Œæœ‰ä¸€ä¸ªtrueå°±è¿”å›true</p>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105165105276.png" alt="image-20221105165105276"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">all_have_an_equal</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="comment">#è¿™ç§æ–¹æ³•ä¸è¡Œ,å› ä¸ºå®ƒè¡¨ç¤ºè¦å…¨éƒ¨å…ƒç´ ç›¸ç­‰</span></span><br><span class="line">    <span class="comment">#return all([x == y for x in s y in s])</span></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">all</span>([s[i] <span class="keyword">in</span> s[<span class="number">0</span>:i] + s[i+<span class="number">1</span>:] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s))])</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">min</span>([<span class="built_in">sum</span>([<span class="number">1</span> <span class="keyword">for</span> y <span class="keyword">in</span> s <span class="keyword">if</span> y == x]) <span class="keyword">for</span> x <span class="keyword">in</span> s]) &gt;= <span class="number">2</span></span><br></pre></td></tr></table></figure>



<h2 id="Linked-List"><a href="#Linked-List" class="headerlink" title="Linked List"></a>Linked List</h2><p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105202550676.png" alt="image-20221105202550676"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">ordered</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="comment">#æ³¨:æ²¡è¯´ä¸èƒ½å‡ºç°ä¸€ä¸ªæˆ–è€…ç©ºçš„</span></span><br><span class="line">    <span class="keyword">if</span> s <span class="keyword">is</span> Link.empty <span class="keyword">or</span> s.rest <span class="keyword">is</span> Link.empty:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">all</span>(s.first &lt;= s.rest.first, ordered(s.rest))</span><br><span class="line">    <span class="comment">#æˆ‘è§‰å¾—æˆ‘è¿™ä¸ªæ¯”è€å¸ˆçš„å¥½^ ^</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åŠ ä¸Šäº†keyçš„ç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">ordered</span>(<span class="params">s, key=<span class="keyword">lambda</span> x:x</span>):</span><br><span class="line">	<span class="keyword">if</span> s <span class="keyword">is</span> Link.empty <span class="keyword">or</span> s.rest <span class="keyword">is</span> Link.empty:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">all</span>(key(s.first) &lt;= key(s.rest.first), ordered(s.rest))</span><br></pre></td></tr></table></figure>

<p>è€å¸ˆçš„ç‰ˆæœ¬:</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105203231248.png" alt="image-20221105203231248" style="zoom:67%;" />

<p>å…¶å®è¿™ä¸ªé€’å½’çš„returnä¸éœ€è¦ç”¨and,åªè¦é€’å½’çš„æ—¶å€™æœ‰falseå°±ä¼šreturnäº†,å¦‚æœæ²¡æœ‰falseå°±ä¸€ç›´åˆ°base case,ç„¶åreturn true</p>
<p>æ‰€ä»¥è€å¸ˆçš„ç‰ˆæœ¬è¿˜åˆ©ç”¨äº†base case</p>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221105204203097.png" alt="image-20221105204203097"></p>
<p>è‡ªå·±è¿™ä¸ªå†™çš„ç€å®ä¸è¡Œ,å¯èƒ½æ˜¯æƒ³å¤æ‚äº†.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">merge_in_place</span>(<span class="params">s, t</span>):</span><br><span class="line">    <span class="keyword">if</span> t == Link.empty:</span><br><span class="line">        <span class="keyword">return</span> s</span><br><span class="line">    <span class="keyword">elif</span> s.rest == Link.empty:</span><br><span class="line">        <span class="keyword">if</span> s.first &lt; t.first:</span><br><span class="line">            s.rest = t</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            s.rest = Link(s.first)</span><br><span class="line">            s.first = t.first</span><br><span class="line">        <span class="keyword">return</span> s</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        s2 = s</span><br><span class="line">        <span class="keyword">while</span>(s2.rest.first &lt; t.first):</span><br><span class="line">            s2 = s2.rest</span><br><span class="line">        s_re = s2.rest</span><br><span class="line">        s2.rest = t</span><br><span class="line">        s2.rest.rest = s_re</span><br><span class="line">        <span class="keyword">return</span> merge_in_place(s, t.rest)</span><br></pre></td></tr></table></figure>

<p>è¿˜æ˜¯å­¦ä¸€ä¸‹è€å¸ˆçš„å§:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">merge</span>(<span class="params">s, t</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a sorted Link containing the elements of sorted s &amp; t.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a = Link(1, Link(5))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b = Link(1, Link(4))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; merge(a, b)</span></span><br><span class="line"><span class="string">    Link(1, Link(1, Link(4, Link(5))))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a</span></span><br><span class="line"><span class="string">    Link(1, Link(5))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b</span></span><br><span class="line"><span class="string">    Link(1, Link(4))</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> s <span class="keyword">is</span> Link.empty:</span><br><span class="line">        <span class="keyword">return</span> t</span><br><span class="line">    <span class="keyword">elif</span> t <span class="keyword">is</span> Link.empty:</span><br><span class="line">        <span class="keyword">return</span> s</span><br><span class="line">    <span class="keyword">elif</span> s.first &lt;= t.first:</span><br><span class="line">        <span class="keyword">return</span> Link(s.first, merge(s.rest, t))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> Link(t.first, merge(s, t.rest))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">merge_in_place</span>(<span class="params">s, t</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a sorted Link containing the elements of sorted s &amp; t.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a = Link(1, Link(5))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b = Link(1, Link(4))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; merge_in_place(a, b)</span></span><br><span class="line"><span class="string">    Link(1, Link(1, Link(4, Link(5))))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a</span></span><br><span class="line"><span class="string">    Link(1, Link(1, Link(4, Link(5))))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b</span></span><br><span class="line"><span class="string">    Link(1, Link(4, Link(5)))#å› ä¸ºté‚£é‡Œä¸åŒ…å«ç­‰äº,æ‰€ä»¥tä¹æ„å½“ä½œæ˜¯å»é‡</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> s <span class="keyword">is</span> Link.empty:</span><br><span class="line">        <span class="keyword">return</span> t</span><br><span class="line">    <span class="keyword">elif</span> t <span class="keyword">is</span> Link.empty:</span><br><span class="line">        <span class="keyword">return</span> s</span><br><span class="line">    <span class="keyword">elif</span> s.first &lt;= t.first:</span><br><span class="line">        s.rest = merge_in_place(s.rest, t)</span><br><span class="line">        <span class="keyword">return</span> s</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        t.rest = merge_in_place(s, t.rest)</span><br><span class="line">        <span class="keyword">return</span> t</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/08/18/CS61A/24-data%20examples/" data-id="cld15jd1q000tggpgddlw9kop" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Computer-Sciense/" rel="tag">Computer Sciense</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-CS61A/23-decomposition" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/08/17/CS61A/23-decomposition/" class="article-date">
  <time datetime="2022-08-17T03:33:24.000Z" itemprop="datePublished">2022-08-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CS61A/">CS61A</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/08/17/CS61A/23-decomposition/">CS61A-23-decomposision</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="Python-modules"><a href="#Python-modules" class="headerlink" title="Python modules"></a>Python modules</h2><p>A <a target="_blank" rel="noopener" href="https://docs.python.org/3/tutorial/modules.html">Python module</a> is a file typically containing function or class definitions.</p>
<p>importçš„æ–¹å¼æœ‰ä¸‰ç§:</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221104205050758.png" alt="image-20221104205050758" style="zoom: 50%;" />

<p>with alias:<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221104205149284.png" alt="image-20221104205149284" style="zoom: 50%;" /></p>
<h5 id="run-a-module"><a href="#run-a-module" class="headerlink" title="run a module"></a>run a module</h5><p>This command runs a module:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ğŸ“„python module.py</span><br></pre></td></tr></table></figure>

<p>When run like that, Python sets a global variable <code>__name__</code> to â€œmainâ€.</p>
<p> you often see code at the bottom of modules like this:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ğŸ“„if __name__ == &quot;__main__&quot;:</span><br><span class="line">    # use the code in the module somehow</span><br></pre></td></tr></table></figure>

<p>The code <strong>inside that condition will be executed as well</strong></p>
<h2 id="Packages"><a href="#Packages" class="headerlink" title="Packages"></a>Packages</h2><p>A <a target="_blank" rel="noopener" href="https://docs.python.org/3/tutorial/modules.html#packages">Python package</a> is a way of bundling multiple related modules together. </p>
<p>Popular packages are NumPy and Pillow.</p>
<p>importæ–¹å¼:<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221104205425035.png" alt="image-20221104205425035" style="zoom: 50%;" /></p>
<p><code>pip</code> is the standard way to install package</p>
<h2 id="Modular-Design"><a href="#Modular-Design" class="headerlink" title="Modular Design"></a>Modular Design</h2><p>Ways to isolate in Python:</p>
<ul>
<li>Functions</li>
<li>Classes</li>
<li>Modules</li>
<li>Packages</li>
</ul>
<p><strong>Separation of Concerns</strong></p>
<ul>
<li> Isolate different parts of a program that address different concerns</li>
<li>A modular component can be <strong>developed and tested independently</strong></li>
</ul>
<p>äº’ç›¸ä¸ç”¨çŸ¥é“å¯¹æ–¹æ€ä¹ˆå®ç°çš„ï¼Œseparateäº†</p>
<img src="C:/Users/Liu%20Junxin/AppData/Roaming/Typora/typora-user-images/image-20221104143458938.png" alt="image-20221104143458938" style="zoom:67%;" />

<p>å¹¶ä¸”ï¼Œä¿®æ”¹ä¸€ä¸ªpartçš„æ—¶å€™ï¼Œä¸éœ€è¦ä¿®æ”¹åˆ«çš„part</p>
<h5 id="egï¼šrestaurant"><a href="#egï¼šrestaurant" class="headerlink" title="egï¼šrestaurant"></a>egï¼šrestaurant</h5><p>dataé•¿è¿™æ ·ï¼š<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221104143815957.png" alt="image-20221104143815957" style="zoom: 67%;" /></p>
<p>æœ‰é¤é¦†ä¿¡æ¯,user reviewä¿¡æ¯</p>
<blockquote>
<p>user_id:ä¸æ˜¯ç»™è”ç³»æ–¹å¼å•¥çš„,è€Œæ˜¯indicateæ˜¯ä¸æ˜¯åŒä¸ªuserå†™äº†ä¸åŒçš„è¯„è®ºä¹‹ç±».</p>
</blockquote>
<p>ç°åœ¨è¦å†™ä¸€ä¸ªç¨‹åºèƒ½â€œ look up a restaurant by name and show related restaurants â€œ</p>
<h6 id="search"><a href="#search" class="headerlink" title="search"></a>search</h6><p>æˆ‘ä»¬ä¸çŸ¥é“all_restaurantsæ˜¯ä»€ä¹ˆ,ä½†æ˜¯å¯ä»¥å…ˆæŠŠé€»è¾‘å†™å‡ºæ¥,ä¹‹åå†æ¥ä¿®æ”¹å®ƒ:</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221104205734421.png" alt="image-20221104205734421" style="zoom:67%;" />

<p>å› ä¸ºrankingæ˜¯æ­£åºçš„,æ‰€ä»¥starså–è´Ÿå€¼,è¿™æ ·å‰é¢çš„å°±æ˜¯starsæœ€å¤šçš„</p>
<p>å½“ç°åœ¨implementæœ‰ç‚¹å›°éš¾çš„æ—¶å€™,æœ€å¥½çš„æ–¹æ³•æ˜¯å…ˆå†™ä¸ªdocstring:</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221104210120737.png" alt="image-20221104210120737" style="zoom: 67%;" />

<p>ä¸‹é¢æ¥å®Œæˆè¿™ä¸ªsimiilaræŠŠ!</p>
<h6 id="similar"><a href="#similar" class="headerlink" title="similar"></a>similar</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sorted</span>(iterable, /, *, key=<span class="literal">None</span>, reverse=<span class="literal">False</span>)</span><br><span class="line"> Return a new <span class="built_in">list</span> containing <span class="built_in">all</span> items <span class="keyword">from</span> the iterable <span class="keyword">in</span> ascending order.</span><br><span class="line"> A custom key function can be supplied to customize the sort order, <span class="keyword">and</span> the reverse flag can be <span class="built_in">set</span> to request the result <span class="keyword">in</span> descending order.</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">similar</span>(<span class="params">self, k, similarity=num_shared_reviewers</span>):</span><br><span class="line">        <span class="string">&quot;Return the K most similar restaurants to SELF, using SIMILARITY for comparison.&quot;</span></span><br><span class="line">        others = <span class="built_in">list</span>(Restaurant.<span class="built_in">all</span>)</span><br><span class="line">        others.remove(self)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sorted</span>(others, key= <span class="keyword">lambda</span> k:-similarity(self, k) )[:k]</span><br></pre></td></tr></table></figure>

<h6 id="reading-files"><a href="#reading-files" class="headerlink" title="reading files"></a>reading files</h6><p>ç”¨pythonçš„jsonåŒ…æ¥å¤„ç†ï¼ˆå°±æ˜¯å˜æˆäº†å­—å…¸ï¼‰</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221104212321026.png" alt="image-20221104212321026" style="zoom:80%;" />

<h6 id="Set-Intersection"><a href="#Set-Intersection" class="headerlink" title="Set Intersection"></a>Set Intersection</h6><p>ä¹‹å‰çš„similarity searchå¤ªè´¹æ—¶é—´äº†,å› æ­¤æ”¹æˆlinear timeçš„</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fast_overlap</span>(<span class="params">s, t</span>): </span><br><span class="line"> <span class="string">&quot;&quot;&quot;Return the overlap between sorted S and sorted T. </span></span><br><span class="line"><span class="string"> &gt;&gt;&gt; fast_overlap([3, 4, 6, 7, 9, 10], [1, 3, 5, 7, 8]) </span></span><br><span class="line"><span class="string"> 2 </span></span><br><span class="line"><span class="string"> &quot;&quot;&quot;</span> </span><br><span class="line"> 	i, j, count = <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line"> 	<span class="keyword">while</span> i &lt; <span class="built_in">len</span>(s) <span class="keyword">and</span> j &lt; <span class="built_in">len</span>(t):</span><br><span class="line">        <span class="keyword">if</span> s[i] == t[j]:</span><br><span class="line">            count, i, j = count + <span class="number">1</span>, i + <span class="number">1</span>, j + <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> s[i] &lt; t[j]:</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span>:</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> count</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/08/17/CS61A/23-decomposition/" data-id="cld15jd1p000qggpggvjx6h37" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Computer-Sciense/" rel="tag">Computer Sciense</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-CS61A/21-recursive objects&amp;hw6 &amp;lab8" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/08/15/CS61A/21-recursive%20objects&hw6%20&lab8/" class="article-date">
  <time datetime="2022-08-15T03:33:24.000Z" itemprop="datePublished">2022-08-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CS61A/">CS61A</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/08/15/CS61A/21-recursive%20objects&hw6%20&lab8/">CS61A-21-recursive objects</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="Linked-lists"><a href="#Linked-lists" class="headerlink" title="Linked lists"></a>Linked lists</h2><h4 id="concept"><a href="#concept" class="headerlink" title="concept"></a>concept</h4><p>linked list structure is:</p>
<ul>
<li>empty</li>
<li>a first value and the rest of the linked list</li>
</ul>
<img src="C:/Users/Liu%20Junxin/AppData/Roaming/Typora/typora-user-images/image-20221031155609930.png" alt="image-20221031155609930" style="zoom:67%;" />

<ul>
<li><p>The first (zeroth)  element is an  attribute value</p>
</li>
<li><p>The rest of the  elements are stored  in a linked list</p>
</li>
<li><p>link.empty is a class attribute represents  an empty linked list</p>
</li>
</ul>
<p><code>Link(3, Link(4, Link(5, Link.empty)))</code></p>
<blockquote>
<p>æœ‰ç‚¹åƒtreeå‘¢</p>
</blockquote>
<p>ä¹Ÿå¯ä»¥è¿™æ ·è¡¨ç¤ºï¼š<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221031155933124.png" alt="image-20221031155933124" style="zoom:67%;" /></p>
<p><strong>implement the class</strong>ï¼š</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221031160350686.png" alt="image-20221031160350686" style="zoom: 67%;" />

<p><code>help(isinstance)</code>: Return whether an object is an instance of a class or of a subclass thereof.</p>
<p>ä½¿ç”¨eg:</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221031160652964.png" alt="image-20221031160652964" style="zoom: 80%;" />

<h4 id="Processing"><a href="#Processing" class="headerlink" title="Processing"></a>Processing</h4><p>å’Œ<code>iterator</code>å¤„ç†çš„ç»“åˆä½¿ç”¨</p>
<p>ææ¸…æ¥šlinklistçš„é€’å½’ç‰¹å¾å°±å¾ˆå¥½å†™äº†</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">range_link</span>(<span class="params">start, end</span>): </span><br><span class="line">     <span class="string">&quot;&quot;&quot;Return a Link containing consecutive integers from start to end.</span></span><br><span class="line"><span class="string">     &gt;&gt;&gt; range_link(3, 6)</span></span><br><span class="line"><span class="string">     Link(3, Link(4, Link(5)))</span></span><br><span class="line"><span class="string">     &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> start &gt;= end:</span><br><span class="line">            <span class="keyword">return</span> Link.empty</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> Link(start, range_link(start + <span class="number">1</span>, end))</span><br><span class="line">                </span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">map_link</span>(<span class="params">f, s</span>): </span><br><span class="line">     <span class="string">&quot;&quot;&quot;Return a Link that contains f(x) for each x in Link s.</span></span><br><span class="line"><span class="string">     &gt;&gt;&gt; map_link(square, range_link(3, 6))</span></span><br><span class="line"><span class="string">     Link(9, Link(16, Link(25)))</span></span><br><span class="line"><span class="string">     &quot;&quot;&quot;</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;if len(s) &lt;= 0:</span></span><br><span class="line"><span class="string">            return Link.empty</span></span><br><span class="line"><span class="string">        else:</span></span><br><span class="line"><span class="string">            return Link(f(s[0]), map_link(f, s[1:]))&quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment">#æ³¨æ„sæ˜¯ä¸€ä¸ªlink</span></span><br><span class="line">        <span class="comment">#è€å¸ˆçš„:</span></span><br><span class="line">        <span class="keyword">if</span> s <span class="keyword">is</span> Link.empty:</span><br><span class="line">            <span class="keyword">return</span> s</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> Link(f(s.first), map_link(f, s.rest))</span><br><span class="line">        </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">filter_link</span>(<span class="params">f, s</span>): </span><br><span class="line">     <span class="string">&quot;&quot;&quot;Return a Link that contains only the elements x of Link s for which f(x) is a true value.</span></span><br><span class="line"><span class="string">     &gt;&gt;&gt; filter_link(odd, range_link(3, 6))</span></span><br><span class="line"><span class="string">     Link(3, Link(5))</span></span><br><span class="line"><span class="string">     &quot;&quot;&quot;</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;is s is Link.empty:</span></span><br><span class="line"><span class="string">            return s</span></span><br><span class="line"><span class="string">        else:</span></span><br><span class="line"><span class="string">            if f(s.first):</span></span><br><span class="line"><span class="string">                return Link(s.first, filter_link(s.rest))</span></span><br><span class="line"><span class="string">            else:</span></span><br><span class="line"><span class="string">                return filter_link(s.rest)&quot;&quot;&quot;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">#è€å¸ˆçš„:å·®ä¸å¤š</span></span><br><span class="line">        <span class="keyword">is</span> s <span class="keyword">is</span> Link.empty:</span><br><span class="line">            <span class="keyword">return</span> s</span><br><span class="line">        filtered_rest = filter_link(f, s.rest)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> f(s.first):</span><br><span class="line">                <span class="keyword">return</span> Link(s.first, filtered_rest)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> filtered_rest</span><br><span class="line">        </span><br></pre></td></tr></table></figure>

<h4 id="Mutation"><a href="#Mutation" class="headerlink" title="Mutation"></a>Mutation</h4><p>The rest of a linked list can contain the linked list as a sub-list</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221031163343755.png" alt="image-20221031163343755" style="zoom:67%;" />

<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221031163410492.png" alt="image-20221031163410492" style="zoom: 67%;" />

<blockquote>
<p>æ³¨æ„:å¯¹äºä»»ä½•objectæ¥è¯´çš„<code>=</code>(listä»€ä¹ˆçš„ä¹Ÿç®—)éƒ½è¡¨ç¤ºæ˜¯æŒ‡å‘åŒä¸€ä¸ªå˜é‡,è€Œä¸æ˜¯ä¸¤ä¸ªå†…å®¹ä¸€æ ·çš„å˜é‡.</p>
</blockquote>
<h6 id="eg"><a href="#eg" class="headerlink" title="eg"></a>eg</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">s, v</span>):</span><br><span class="line">     <span class="string">&quot;&quot;&quot;Add v to an ordered list s with no repeats, returning modified s.</span></span><br><span class="line"><span class="string">	(Note: If v is already in s, then don&#x27;t modify s, but still return it.)&quot;&quot;&quot;</span></span><br><span class="line">	<span class="comment">#è‡ªå·±</span></span><br><span class="line">    <span class="keyword">assert</span> s <span class="keyword">is</span> <span class="keyword">not</span> <span class="type">List</span>.empty</span><br><span class="line">    <span class="keyword">if</span> s.first &gt; v:</span><br><span class="line">        s.first, s.rest = v, Link(s.first, s.rest)</span><br><span class="line">    <span class="keyword">elif</span> s.first &lt; v <span class="keyword">and</span> empty(s.rest):</span><br><span class="line">        s.rest = Link(v)</span><br><span class="line">    <span class="keyword">elif</span> s.first &lt; v:</span><br><span class="line">        <span class="keyword">return</span> Link(s.first, add(s.rest, v))</span><br><span class="line">    <span class="comment">#s.first == v or ä»¥ä¸Šæ“ä½œå®Œæˆ</span></span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#ç­”æ¡ˆå·®ä¸å¤š</span></span><br><span class="line">   </span><br></pre></td></tr></table></figure>

<h2 id="Tree-class"><a href="#Tree-class" class="headerlink" title="Tree class"></a>Tree class</h2><p>ä¸linklistçš„åŒºåˆ«:treeå¯ä»¥æœ‰å¾ˆå¤šbranches</p>
<ul>
<li>Each location in a tree is called a node</li>
<li>Each node has a label that can be any value</li>
<li>The top node is the root node</li>
</ul>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221031174727317.png" alt="image-20221031174727317" style="zoom:67%;" />

<p><strong>implement class tree:</strong></p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221031174919411.png" alt="image-20221031174919411" style="zoom:80%;" />

<p>ä¸ºäº†printå’Œæ˜¾ç¤º,éœ€è¦Implement reprå’Œstr</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Trees</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Tree</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;A tree is a label and a list of branches.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, label, branches=[]</span>):</span><br><span class="line">        self.label = label</span><br><span class="line">        <span class="keyword">for</span> branch <span class="keyword">in</span> branches:</span><br><span class="line">            <span class="keyword">assert</span> <span class="built_in">isinstance</span>(branch, Tree)</span><br><span class="line">        self.branches = <span class="built_in">list</span>(branches)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self.branches:</span><br><span class="line">            branch_str = <span class="string">&#x27;, &#x27;</span> + <span class="built_in">repr</span>(self.branches)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            branch_str = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;Tree(&#123;0&#125;&#123;1&#125;)&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">repr</span>(self.label), branch_str)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;\n&#x27;</span>.join(self.indented())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">indented</span>(<span class="params">self</span>):</span><br><span class="line">        lines = []</span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> self.branches:</span><br><span class="line">            <span class="keyword">for</span> line <span class="keyword">in</span> b.indented():</span><br><span class="line">                lines.append(<span class="string">&#x27;  &#x27;</span> + line)</span><br><span class="line">        <span class="keyword">return</span> [<span class="built_in">str</span>(self.label)] + lines</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">is_leaf</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">not</span> self.branches</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fib_tree</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;A Fibonacci tree.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print(fib_tree(4))</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">      1</span></span><br><span class="line"><span class="string">        0</span></span><br><span class="line"><span class="string">        1</span></span><br><span class="line"><span class="string">      2</span></span><br><span class="line"><span class="string">        1</span></span><br><span class="line"><span class="string">        1</span></span><br><span class="line"><span class="string">          0</span></span><br><span class="line"><span class="string">          1</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span> <span class="keyword">or</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> Tree(n)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        left = fib_tree(n-<span class="number">2</span>)</span><br><span class="line">        right = fib_tree(n-<span class="number">1</span>)</span><br><span class="line">        fib_n = left.label + right.label</span><br><span class="line">        <span class="keyword">return</span> Tree(fib_n, [left, right])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">leaves</span>(<span class="params">tree</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the leaf values of a tree.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; leaves(fib_tree(4))</span></span><br><span class="line"><span class="string">    [0, 1, 1, 0, 1]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> t.is_leaf():</span><br><span class="line">        <span class="keyword">return</span> [t.label]</span><br><span class="line">    leaves_lst = []</span><br><span class="line">    <span class="keyword">for</span> branch <span class="keyword">in</span> t.branches:</span><br><span class="line">        <span class="comment">#leaves_lst.append(leaves(branch))</span></span><br><span class="line">        leaves_lst.extend(leaves(branch))</span><br><span class="line">    <span class="keyword">return</span> leaves_lst</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">height</span>(<span class="params">tree</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;The height of a tree.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> tree.is_leaf():</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>  <span class="comment">#æ³¨æ„ä¸æ˜¯1ï¼Œå¥½åƒæ˜¯å°‘ä¸€å±‚å§</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + <span class="built_in">max</span>([height(b) <span class="keyword">for</span> b <span class="keyword">in</span> tree.branches])<span class="comment">#å—¯ï¼å¾ˆå¥½ï¼</span></span><br><span class="line">            </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å…³äºextendå’Œappendçš„åŒºåˆ«ï¼š<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/342816972">pythonä¸­append()å’Œextend()åŒºåˆ«è¯¦è§£ - çŸ¥ä¹ (zhihu.com)</a></p>
<p>**extend()**å‘åˆ—è¡¨å°¾éƒ¨è¿½åŠ ä¸€ä¸ªåˆ—è¡¨ï¼Œå°†åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è¿½åŠ è¿›æ¥ï¼Œåœ¨åŸæœ‰åˆ—è¡¨ä¸Šå¢åŠ ã€‚è€Œappendæ˜¯æŠŠåé¢çš„é‚£æ•´ä¸ªå†…å®¹æŒ¡è½¦å·¥ä¸€ä¸ªå…ƒç´ åŠ è¿›æ¥</p>
<h5 id="tree-mutation"><a href="#tree-mutation" class="headerlink" title="tree mutation"></a>tree mutation</h5><p>Removing subtrees from a  tree is called pruning </p>
<p>Prune branches before  recursive processing</p>
<p>æ¥implementå§ï¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">def prune(t, n):</span><br><span class="line">    &quot;&quot;&quot;Prune sub-trees whose label value is n.</span><br><span class="line"></span><br><span class="line">    &gt;&gt;&gt; t = fib_tree(5)</span><br><span class="line">    &gt;&gt;&gt; prune(t, 1)</span><br><span class="line">    &gt;&gt;&gt; print(t)</span><br><span class="line">    5</span><br><span class="line">      2</span><br><span class="line">      3</span><br><span class="line">        2</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    t.branches = [b for b in t.branches if b.label != n]</span><br><span class="line">    for b in t.branches:</span><br><span class="line">        prune(b, n)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="HW-06"><a href="#HW-06" class="headerlink" title="HW 06"></a>HW 06</h2><h5 id="1-vending-machine"><a href="#1-vending-machine" class="headerlink" title="1 vending machine"></a>1 vending machine</h5><p>æ³¨æ„è¿™ä¸ªæ‰“å°å‡ºæ¥çš„ä¸œè¥¿æœ‰â€˜â€™ï¼Œè¯´æ˜è¿™ä¸æ˜¯printï¼Œè¿™æ˜¯è¿”å›å€¼</p>
<p>attributsæ”¾å“ªé‡Œï¼Ÿclassé‡Œæ”¾è¿™ä¸ªç±»å…±æœ‰çš„ä¸œè¥¿ï¼Œselfé‡Œæ”¾è¿™ä¸ªinstanceä¸ªäººçš„ä¸œè¥¿</p>
<h5 id="3-store-digits"><a href="#3-store-digits" class="headerlink" title="3 store digits"></a>3 store digits</h5><p>æ³¨æ„å®ƒçš„æ•°å­—é¡ºåºæ˜¯å€’ç€çš„ã€‚</p>
<p>è¿˜æœ‰æ³¨æ„è¦åŠ åœ¨æœ€åä¸€ä¸ªrestä¸Š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">store_digits</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Stores the digits of a positive number n in a linked list.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s = store_digits(1)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s</span></span><br><span class="line"><span class="string">    Link(1)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; store_digits(2345)</span></span><br><span class="line"><span class="string">    Link(2, Link(3, Link(4, Link(5))))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; store_digits(876)</span></span><br><span class="line"><span class="string">    Link(8, Link(7, Link(6)))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; # a check for restricted functions</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; import inspect, re</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; cleaned = re.sub(r&quot;#.*\\n&quot;, &#x27;&#x27;, re.sub(r&#x27;&quot;&#123;3&#125;[\s\S]*?&quot;&#123;3&#125;&#x27;, &#x27;&#x27;, inspect.getsource(store_digits)))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print(&quot;Do not use str or reversed!&quot;) if any([r in cleaned for r in [&quot;str&quot;, &quot;reversed&quot;]]) else None</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; link1 = Link(3, Link(Link(4), Link(5, Link(6))))</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    div, res = n // <span class="number">10</span>, n % <span class="number">10</span></span><br><span class="line">    <span class="keyword">if</span> div == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> Link(res)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment">#return Link(res, store_digits(div))æ³¨æ„é¡ºåº</span></span><br><span class="line">        head = store_digits(div)</span><br><span class="line">        tail = head</span><br><span class="line">        <span class="comment">#l.rest = Link(res) åº”è¯¥æ˜¯è¦æ‰¾åˆ°æœ€åä¸€ä¸ªrestæ‰å¯¹</span></span><br><span class="line">        <span class="keyword">while</span> tail.rest != Link.empty:</span><br><span class="line">            tail = tail.rest</span><br><span class="line">        tail.rest = Link(res)</span><br><span class="line">        <span class="keyword">return</span> head</span><br></pre></td></tr></table></figure>

<h5 id="5-Two-list"><a href="#5-Two-list" class="headerlink" title="5 Two list"></a>5 Two list</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">two_list</span>(<span class="params">vals, amounts</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Returns a linked list according to the two lists that were passed in. Assume</span></span><br><span class="line"><span class="string">    vals and amounts are the same size. Elements in vals represent the value, and the</span></span><br><span class="line"><span class="string">    corresponding element in amounts represents the number of this value desired in the</span></span><br><span class="line"><span class="string">    final linked list. Assume all elements in amounts are greater than 0. Assume both</span></span><br><span class="line"><span class="string">    lists have at least one element.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a = [1, 3, 2]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b = [1, 1, 1]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; c = two_list(a, b)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; c</span></span><br><span class="line"><span class="string">    Link(1, Link(3, Link(2)))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a = [1, 3, 2]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b = [2, 2, 1]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; c = two_list(a, b)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; c</span></span><br><span class="line"><span class="string">    Link(1, Link(1, Link(3, Link(3, Link(2)))))</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    l = Link(vals[<span class="number">0</span>])<span class="comment">#å› ä¸ºåˆå§‹åŒ–ä¸€å®šè¦first...</span></span><br><span class="line">    t = l</span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> val <span class="keyword">in</span> vals:</span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(amounts[i]):</span><br><span class="line">            t.rest= Link(val)</span><br><span class="line">            t = t.rest</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> l.rest  <span class="comment">#ç­‰äºæŠŠç¬¬ä¸€ä¸ªå…ƒç´ å¤šåšäº†ä¸€æ¬¡ï¼Œåœ¨è¿™é‡Œåœ†å›æ¥   </span></span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vals.reverse()</span><br><span class="line">amounts.reverse()</span><br><span class="line">result = Link.empty</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(vals)):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(amounts[i]):</span><br><span class="line">        result = Link(vals[i], result)</span><br><span class="line"><span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

<h2 id="Lab-8"><a href="#Lab-8" class="headerlink" title="Lab 8"></a>Lab 8</h2><p>åˆå§‹åŒ–linkçš„æ—¶å€™å¿…é¡»è¦æœ‰ä¸€ä¸ªå‚æ•°ä½œä¸ºfirst</p>
<p>ä½†æ˜¯restå¯ä»¥æ˜¯empty</p>
<h5 id="Q4"><a href="#Q4" class="headerlink" title="Q4"></a>Q4</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">label_squarer</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Mutates a Tree t by squaring all its elements.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t = Tree(1, [Tree(3, [Tree(5)]), Tree(7)])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; label_squarer(t)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t</span></span><br><span class="line"><span class="string">    Tree(1, [Tree(9, [Tree(25)]), Tree(49)])</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="comment">#é”™è¯¯è§£æ³•ï¼šä¸åº”è¯¥æœ‰è¿”å›å€¼ï¼Œè€Œæ˜¯åœ¨åŸæ ‘ä¸Šä¿®æ”¹</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    if t.is_leaf():</span></span><br><span class="line"><span class="string">      return Tree(t.label**2)</span></span><br><span class="line"><span class="string">    else:</span></span><br><span class="line"><span class="string">      return Tree(t.label**2, [label_squarer(b) for b in t.branches])&quot;&quot;&quot;</span></span><br><span class="line">    t.label *= t.label</span><br><span class="line">    <span class="keyword">if</span> t.is_leaf():</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">      <span class="keyword">for</span> b <span class="keyword">in</span> t.branches:</span><br><span class="line">        label_squarer(b)</span><br></pre></td></tr></table></figure>

<p>çœ‹æ³¨é‡Šéƒ¨åˆ†å†™çš„</p>
<h5 id="Q5"><a href="#Q5" class="headerlink" title="Q5"></a>Q5</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">cumulative_mul</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Mutates t so that each node&#x27;s label becomes the product of all labels in</span></span><br><span class="line"><span class="string">    the corresponding subtree rooted at t.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t = Tree(1, [Tree(3, [Tree(5)]), Tree(7)])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; cumulative_mul(t)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t</span></span><br><span class="line"><span class="string">    Tree(105, [Tree(15, [Tree(5)]), Tree(7)])</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="comment">#è§‚å¯Ÿå‘ç°æ˜¯åŸå§‹èŠ‚ç‚¹æ•°æ®çš„ç´¯ä¹˜ï¼Œè€Œä¸æ˜¯ä¿®æ”¹è¿‡çš„ï¼Œæ‰€ä»¥åº”è¯¥ä»è¾ˆä»½æœ€é«˜çš„å¼€å§‹ï¼Œ</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mul</span>(<span class="params">t</span>):</span><br><span class="line">      <span class="keyword">if</span> t.is_leaf():</span><br><span class="line">        <span class="keyword">return</span> t.label</span><br><span class="line">      <span class="keyword">else</span>:</span><br><span class="line">        num = t.label</span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> t.branches:</span><br><span class="line">          num *= mul(b)</span><br><span class="line">        <span class="keyword">return</span> num</span><br><span class="line">      </span><br><span class="line">    t.label = mul(t)</span><br><span class="line">    <span class="keyword">if</span> t.is_leaf():</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">      <span class="keyword">for</span> b <span class="keyword">in</span> t.branches:</span><br><span class="line">        b.label = mul(b)</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ä¸€ä¸‹pythonçš„å˜é‡å…¨éƒ½æ˜¯æŒ‡é’ˆï¼Œå…¨æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥ä¼šè¢«ä¿®æ”¹</p>
<p>ä¸è¿‡æ•°å€¼å‹å¯¹è±¡ä¼šæœ‰ç‚¹ä¸ä¸€æ ·</p>
<h5 id="Q6"><a href="#Q6" class="headerlink" title="Q6"></a>Q6</h5><p>çœ‹æˆ‘å†™çš„æ³¨é‡Š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">add_d_leaves</span>(<span class="params">t, v</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Add d leaves containing v to each node at every depth d.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t_one_to_four = Tree(1, [Tree(2), Tree(3, [Tree(4)])])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print(t_one_to_four)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">      2</span></span><br><span class="line"><span class="string">      3</span></span><br><span class="line"><span class="string">        4</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; add_d_leaves(t_one_to_four, 5)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print(t_one_to_four)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">      2</span></span><br><span class="line"><span class="string">        5</span></span><br><span class="line"><span class="string">      3</span></span><br><span class="line"><span class="string">        4</span></span><br><span class="line"><span class="string">          5</span></span><br><span class="line"><span class="string">          5</span></span><br><span class="line"><span class="string">        5</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t1 = Tree(1, [Tree(3)])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; add_d_leaves(t1, 4)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t1</span></span><br><span class="line"><span class="string">    Tree(1, [Tree(3, [Tree(4)])])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t2 = Tree(2, [Tree(5), Tree(6)])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t3 = Tree(3, [t1, Tree(0), t2])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print(t3)</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">      1</span></span><br><span class="line"><span class="string">        3</span></span><br><span class="line"><span class="string">          4</span></span><br><span class="line"><span class="string">      0</span></span><br><span class="line"><span class="string">      2</span></span><br><span class="line"><span class="string">        5</span></span><br><span class="line"><span class="string">        6</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; add_d_leaves(t3, 10)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print(t3)</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">      1</span></span><br><span class="line"><span class="string">        3</span></span><br><span class="line"><span class="string">          4</span></span><br><span class="line"><span class="string">            10</span></span><br><span class="line"><span class="string">            10</span></span><br><span class="line"><span class="string">            10</span></span><br><span class="line"><span class="string">          10</span></span><br><span class="line"><span class="string">          10</span></span><br><span class="line"><span class="string">        10</span></span><br><span class="line"><span class="string">      0</span></span><br><span class="line"><span class="string">        10</span></span><br><span class="line"><span class="string">      2</span></span><br><span class="line"><span class="string">        5</span></span><br><span class="line"><span class="string">          10</span></span><br><span class="line"><span class="string">          10</span></span><br><span class="line"><span class="string">        6</span></span><br><span class="line"><span class="string">          10</span></span><br><span class="line"><span class="string">          10</span></span><br><span class="line"><span class="string">        10</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">addl</span>(<span class="params">t, v, d</span>):</span><br><span class="line">      <span class="string">&quot;&quot;&quot;for _ in range(d + 1):</span></span><br><span class="line"><span class="string">          t.branches.append(Tree(v))&quot;&quot;&quot;</span><span class="comment">#ä¸å¯ä»¥å™¢ï¼Œå› ä¸ºæ”¾åœ¨è¿™é‡Œç­‰äºè¯´æºæºä¸æ–­è¾“å…¥leafç„¶åæ–°æ¥çš„leafä¹ŸåŠ leafï¼Œæ‰€ä»¥è¦æŠŠå¢åŠ çš„æ“ä½œæ”¾åœ¨é€’å½’åé¢</span></span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> t.is_leaf():</span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> t.branches:</span><br><span class="line">          addl(b, v, d + <span class="number">1</span>)</span><br><span class="line">      <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(d):</span><br><span class="line">          t.branches.append(Tree(v))</span><br><span class="line">    addl(t, v, <span class="number">0</span>)</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/08/15/CS61A/21-recursive%20objects&hw6%20&lab8/" data-id="cld15jd1n000kggpg1hbn3ryx" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Computer-Sciense/" rel="tag">Computer Sciense</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-CS61A/20-representation &amp; disc07" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/08/14/CS61A/20-representation%20&%20disc07/" class="article-date">
  <time datetime="2022-08-14T03:33:24.000Z" itemprop="datePublished">2022-08-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CS61A/">CS61A</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/08/14/CS61A/20-representation%20&%20disc07/">CS61A-20-representation</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="String-representations"><a href="#String-representations" class="headerlink" title="String representations"></a>String representations</h2><p>In Python, all objects produce two string representations: </p>
<ul>
<li> The <strong>str</strong> is legible to humans</li>
<li> The <strong>repr</strong> is legible to the Python interpreter</li>
</ul>
<blockquote>
<ul>
<li><code>str()</code> çš„è¾“å‡ºè¿½æ±‚å¯è¯»æ€§ï¼Œè¾“å‡ºæ ¼å¼è¦ä¾¿äºç†è§£ï¼Œé€‚åˆç”¨äºè¾“å‡ºå†…å®¹åˆ°ç”¨æˆ·ç»ˆç«¯ã€‚</li>
<li><code>repr()</code> çš„è¾“å‡ºè¿½æ±‚æ˜ç¡®æ€§ï¼Œé™¤äº†å¯¹è±¡å†…å®¹ï¼Œè¿˜éœ€è¦å±•ç¤ºå‡ºå¯¹è±¡çš„æ•°æ®ç±»å‹ä¿¡æ¯ï¼Œé€‚åˆå¼€å‘å’Œè°ƒè¯•é˜¶æ®µä½¿ç”¨ã€‚</li>
</ul>
<p> all objects should produce two different string representations: </p>
<ul>
<li><p>one that is human-interpretable text </p>
</li>
<li><p>one that is a Python-interpretable expression</p>
</li>
</ul>
</blockquote>
<h5 id="repr"><a href="#repr" class="headerlink" title="repr"></a>repr</h5><blockquote>
<p>æ‰©å±•ï¼š<a target="_blank" rel="noopener" href="https://www.runoob.com/python/python-func-repr.html">Python repr() å‡½æ•° | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p>
</blockquote>
<p><code>repr(object) -&gt; string</code></p>
<ul>
<li>Return the <strong>canonical string representation</strong> of the object.</li>
<li><code> eval(repr(object)) == object</code></li>
</ul>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221029182239064.png" alt="image-20221029182239064" style="zoom:67%;" />

<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221029182251119.png" alt="image-20221029182251119" style="zoom:67%;" />

<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221029184603794.png" alt="image-20221029184603794" style="zoom:80%;" />

<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221029184625059.png" alt="image-20221029184625059"></p>
<p>è¡¨æ˜å®ƒå‘Šè¯‰python,è¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221029184633284.png" alt="image-20221029184633284" style="zoom:80%;" />

<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221029184645176.png" alt="image-20221029184645176" style="zoom:80%;" />

<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221029184651714.png" alt="image-20221029184651714"></p>
<h5 id="str"><a href="#str" class="headerlink" title="str"></a>str</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> fractions <span class="keyword">import</span> Fraction</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>half = Fraction(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">repr</span>(half)</span><br><span class="line"><span class="string">&#x27;Fraction(1, 2)&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">str</span>(half)</span><br><span class="line"><span class="string">&#x27;1/2&#x27;</span> <span class="comment">#å¯¹äºhumanæ¥è¯´çš„</span></span><br></pre></td></tr></table></figure>

<p>The result of calling <strong>str</strong> on the value of an expression = what Python prints  using the <strong>print</strong> function</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221029183617613.png" alt="image-20221029183617613" style="zoom:67%;" />

<hr>
<p>æ›´å¤šä¾‹å­:</p>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030164905798.png" alt="image-20221030164905798"></p>
<h4 id="f-strings"><a href="#f-strings" class="headerlink" title="f-strings"></a>f-strings</h4><p>a string literal that contains expressions</p>
<p>string concatenationç‰ˆï¼š<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030162035435.png" alt="image-20221030162035435" style="zoom: 60%;" /></p>
<p>string interpolationç‰ˆï¼š<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030162244033.png" alt="image-20221030162244033" style="zoom:67%;" /></p>
<p><code>&#123;&#125;</code>é‡Œçš„ä¼šè¢«å½“æˆpython expression,æ‰“å°expressionçš„è¿”å›å€¼(ç»“æœ)</p>
<p>æ›´å¤šä¾‹å­:</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030162353084.png" alt="image-20221030162353084" style="zoom:80%;" />

<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030162435614.png" alt="image-20221030162435614" style="zoom:80%;" />

<h4 id="Polymorphic-Functions"><a href="#Polymorphic-Functions" class="headerlink" title="Polymorphic Functions"></a>Polymorphic Functions</h4><p>A function that applies to many (poly) different forms (morph) of data</p>
<p>eg:strå’Œrepr</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030163210340.png" alt="image-20221030163210340" style="zoom: 67%;" />

<h6 id="Defining-the-repr-function"><a href="#Defining-the-repr-function" class="headerlink" title="Defining the repr function"></a>Defining the <code>repr</code> function</h6><p>apply correctly to all data types, to be a generic or <em>polymorphic function</em></p>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030170212859.png" alt="image-20221030170212859"></p>
<p>å…·ä½“ä»€ä¹ˆæ„æ€å¯ä»¥çœ‹åæ–‡çš„bearçš„ä¾‹å­</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030170724649.png" alt="image-20221030170724649" style="zoom:67%;" />

<p>ä¸ºä»€ä¹ˆä¸æ˜¯4:å› ä¸ºclassçš„repræœ‰å‚æ•°self</p>
<h6 id="Defining-the-str-function"><a href="#Defining-the-str-function" class="headerlink" title="Defining the str function"></a>Defining the <code>str</code> function</h6><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030165612780.png" alt="image-20221030165612780" style="zoom: 80%;" />

<hr>
<p>eg</p>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030165719096.png" alt="image-20221030165719096" style="zoom:80%;" /><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030165743440.png" alt="image-20221030165743440" style="zoom:67%;" /></p>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030165757180.png" alt="image-20221030165757180" style="zoom:80%;" /><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030165806988.png" style="zoom:80%;" /></p>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030170002065.png" alt="image-20221030170002065" style="zoom:67%;" /><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030170013942.png" alt="image-20221030170013942" style="zoom:80%;" /></p>
<p>çœ‹å‡ºcall repr()çš„æ—¶å€™ignoreäº†<strong>instance</strong>çš„<code>__repr__()</code>è€Œæ˜¯ä½¿ç”¨äº†<strong>class</strong>çš„</p>
<p>å†è¯•ä¸€è¯•è‡ªå·±å®šä¹‰<code>repr(x)</code>å’Œ<code>str(x)</code></p>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030171008697.png" alt="image-20221030171008697" style="zoom:67%;" /><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030171022332.png" alt="image-20221030171022332" style="zoom:67%;" /></p>
<h6 id="interface"><a href="#interface" class="headerlink" title="interface"></a>interface</h6><p> Objects interact by looking up attributes on each other</p>
<p>An interface is a set of shared messages, along with a specification of what they mean</p>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030172825302.png" alt="image-20221030172825302"></p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030173157528.png" alt="image-20221030173157528" style="zoom:80%;" />

<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030173210041.png" alt="image-20221030173210041" style="zoom:80%;" />

<h4 id="Special-Method-Names"><a href="#Special-Method-Names" class="headerlink" title="Special Method Names"></a>Special Method Names</h4><p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030173521762.png" alt="image-20221030173521762"></p>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030173625363.png" alt="image-20221030173625363"></p>
<p>å¯¹,è¿™äº›éƒ½æ˜¯special method nameså“Ÿ~</p>
<hr>
<p>æ¥çœ‹çœ‹add:</p>
<p>Adding instances of user-defined classes invokes either the <strong>add</strong> or <strong>radd</strong> method</p>
<p>è¦é‡è½½</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030173939092.png" alt="image-20221030173939092" style="zoom:67%;" />

<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030175557733.png" alt="image-20221030175557733" style="zoom: 67%;" />

<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030175814478.png" alt="image-20221030175814478" style="zoom:80%;" />

<h2 id="disc-07"><a href="#disc-07" class="headerlink" title="disc 07"></a>disc 07</h2><p>æ³¨æ„æœ€åä¸€é—®</p>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030180945710.png" alt="image-20221030180945710"></p>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221030181006960.png" alt="image-20221030181006960"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/08/14/CS61A/20-representation%20&%20disc07/" data-id="cld15jd1k000cggpgh5u84sra" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Computer-Sciense/" rel="tag">Computer Sciense</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-CS61A/19-inheritance&amp;lab7" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/08/13/CS61A/19-inheritance&lab7/" class="article-date">
  <time datetime="2022-08-13T03:33:24.000Z" itemprop="datePublished">2022-08-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CS61A/">CS61A</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/08/13/CS61A/19-inheritance&lab7/">CS61A-19-inheritance</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id=""><a href="#" class="headerlink" title=""></a></h2><p>recallï¼šattributes</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025203306294.png" alt="image-20221025203306294" style="zoom: 67%;" />

<p>Bound methods are also objects: a function  that has its first parameter â€œselfâ€ already  bound to an instance</p>
<p>Dot expressions:<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025203428763.png" alt="image-20221025203428763" style="zoom:80%;" /></p>
<h4 id="Attribute-Assignment"><a href="#Attribute-Assignment" class="headerlink" title="Attribute Assignment"></a>Attribute Assignment</h4><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025204214064.png" alt="image-20221025204214064" style="zoom:80%;" />

<ul>
<li> If the object is an instance, then assignment sets an instance attribute </li>
<li>If the object is a class, then assignment sets a class attribute<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025204300419.png" alt="image-20221025204300419" style="zoom:80%;" /></li>
</ul>
<p>æ³¨æ„ï¼šï¼ˆæŸä¸ªä¾‹å­ï¼‰<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025204651400.png" alt="image-20221025204651400" style="zoom:67%;" /></p>
<p>ç”±äºè¿™ä¸ªinstanceæ²¡æœ‰å±äºinstanceçš„attribute named interestï¼ˆè™½ç„¶classé‡Œæœ‰ï¼Œä½†è¿™æ˜¯å¯¹instanceçš„æ“ä½œï¼‰ï¼Œå› æ­¤è¿™é‡Œç»™instanceå¢åŠ äº†ä¸€ä¸ªå«interestçš„å˜é‡å¹¶è®©å®ƒç­‰äº0.08</p>
<p>egï¼š<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025205723781.png" alt="image-20221025205723781"></p>
<p>å¯¹classçš„è¿›è¡Œä¿®æ”¹ï¼Œæ‰€æœ‰instanceçš„interestéƒ½è¢«ä¿®æ”¹äº†</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025205733156.png" alt="image-20221025205733156" style="zoom:67%;" />

<p>åªæ”¹jimçš„ï¼Œé‚£å°±åªæ”¹äº†jimçš„ï¼Œæ­¤æ—¶jimè¢«åˆ›å»ºäº†æ–°çš„å±äºjimçš„interest</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025205922569.png" alt="image-20221025205922569" style="zoom:67%;" />

<p>å†æ”¹ä¸€æ¬¡classçš„ï¼Œå‘ç°jimçš„æ²¡æ”¹ï¼Œå› ä¸ºjimè¿™ä¸ªinstanceçš„interestä¼˜å…ˆçº§é«˜äºclassçš„äº†</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025205959559.png" alt="image-20221025205959559" style="zoom: 67%;" />

<h4 id="Inheritance"><a href="#Inheritance" class="headerlink" title="Inheritance"></a>Inheritance</h4><p>ç”¨æ¥relateå¤šä¸ªclasses</p>
<p>A common use: Two similar classes differ in their degree of specialization </p>
<ul>
<li>The specialized class may have the same attributes as the general class</li>
<li> along with some special-case behavior</li>
</ul>
<p>ä½¿ç”¨æ ¼å¼ï¼š</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221028174349732.png" alt="image-20221028174349732" style="zoom:67%;" />

<p>the new subclass ï¼š</p>
<ul>
<li><strong>inherits</strong> attributes of its base class</li>
<li> may <strong>override</strong> certain inherited attributes</li>
</ul>
<p>å…³äºattributes:</p>
<p>Base class attributes <strong>arenâ€™t copied</strong> into subclasses</p>
<p>å½“ä½ ä½¿ç”¨ä¸€ä¸ªattributeçš„æ—¶å€™:</p>
<ol>
<li><p>If it names an attribute in the class, return the attribute value.  </p>
</li>
<li><p>Otherwise, <strong>look up the name in the base class</strong>, if there is one</p>
</li>
</ol>
<h6 id="eg"><a href="#eg" class="headerlink" title="eg"></a>eg</h6><p> <code>CheckingAccount</code> is a specialized type of <code>Account</code></p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221028174940622.png" alt="image-20221028174940622" style="zoom: 67%;" />

<p>classå®šä¹‰é•¿è¿™æ ·:</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221028175058940.png" alt="image-20221028175058940" style="zoom: 67%;" />

<p>ä½¿ç”¨attributes:</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221028175507334.png" alt="image-20221028175507334" style="zoom:67%;" />

<p>depositæ²¡åœ¨checkingaccountè¢«å®šä¹‰,å› æ­¤å¯»æ‰¾çˆ¶classçš„</p>
<p>withdrawè¢«å®šä¹‰äº†,å› æ­¤å°±ç”¨chekingaccountçš„äº†</p>
<h4 id="How-to-design-object-oriented-program"><a href="#How-to-design-object-oriented-program" class="headerlink" title="How to design object-oriented program"></a>How to design object-oriented program</h4><h6 id="for-Inheritance"><a href="#for-Inheritance" class="headerlink" title="for Inheritance"></a>for Inheritance</h6><p>çº¦æ³•:</p>
<ul>
<li>Donâ€™t repeat yourself; use existing implementations é¿å…è€æ˜¯å¤åˆ¶å·²æœ‰çš„å‡½æ•°(é‚£æ ·å¾ˆå‘†)</li>
<li>Look up attributes on instances whenever possible å¦‚æœèƒ½ç”¨çˆ¶äº²çš„å°±ç”¨(è¿™æ ·ç®€æ´) <img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221028180843418.png" alt="image-20221028180843418" style="zoom:80%;" /></li>
</ul>
<h6 id="Inheritance-and-Composition"><a href="#Inheritance-and-Composition" class="headerlink" title="Inheritance and Composition"></a>Inheritance and Composition</h6><ul>
<li>Inheritance is best for representing <strong>is</strong>-a relationships </li>
<li>Composition is best for representing <strong>has</strong>-a relationships</li>
</ul>
<p><strong>is</strong>:accountå’Œcheckingaccount</p>
<p><strong>has</strong>:è¿™ä¸ªbankå¯ä»¥has chekingaccount</p>
<h6 id="Attributes-Lookup-Practice"><a href="#Attributes-Lookup-Practice" class="headerlink" title="Attributes Lookup Practice"></a>Attributes Lookup Practice</h6><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221028190929417.png" alt="image-20221028190929417" style="zoom:80%;" />

<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221028192025068.png" alt="image-20221028192025068" style="zoom:67%;" />

<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221028192033154.png" alt="image-20221028192033154" style="zoom:80%;" />

<p>å¹¶æ²¡æœ‰åˆ›é€ å¯¹è±¡,è¿™åªæ˜¯çœ‹äº†ä¸‹n</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221028192059314.png" alt="image-20221028192059314" style="zoom:80%;" />

<p>å› ä¸ºä¸Šä¸€å¥æ²¡æœ‰åˆ›å»ºCçš„å¯¹è±¡,å› æ­¤æ²¡æœ‰æ”¹å˜z,åº”æ˜¯ç›¸ç­‰çš„</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221028192533634.png" alt="image-20221028192533634" style="zoom:80%;" />

<p>çœ‹å›¾ä¸­ç»“æ„,ä¼šå‘ç°b.zæ˜¯ä¸€ä¸ªinstance</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221028192722455.png" alt="image-20221028192722455" style="zoom:67%;" />

<h4 id="Multiple-Inheritance"><a href="#Multiple-Inheritance" class="headerlink" title="Multiple Inheritance"></a>Multiple Inheritance</h4><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221028202322497.png" alt="image-20221028202322497" style="zoom:67%;" />

<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221028202444534.png" alt="image-20221028202444534" style="zoom:67%;" />

<h4 id="Complicated-Inheritance"><a href="#Complicated-Inheritance" class="headerlink" title="Complicated Inheritance"></a>Complicated Inheritance</h4><h1 id="Lab7"><a href="#Lab7" class="headerlink" title="Lab7"></a>Lab7</h1><h4 id="Object-Oriented-Programming"><a href="#Object-Oriented-Programming" class="headerlink" title="Object-Oriented Programming"></a>Object-Oriented Programming</h4><p><strong>Object-oriented programming</strong> (OOP) is a style of programming that allows you to think of code in terms of â€œobjects.â€ Hereâ€™s an example of a <code>Car</code> class:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class Car:</span><br><span class="line">    num_wheels = 4</span><br><span class="line"></span><br><span class="line">    def __init__(self, color):</span><br><span class="line">        self.wheels = Car.num_wheels</span><br><span class="line">        self.color = color</span><br><span class="line"></span><br><span class="line">    def drive(self):</span><br><span class="line">        if self.wheels &lt;= Car.num_wheels:</span><br><span class="line">            return self.color + &#x27; car cannot drive!&#x27;</span><br><span class="line">        return self.color + &#x27; car goes vroom!&#x27;</span><br><span class="line"></span><br><span class="line">    def pop_tire(self):</span><br><span class="line">        if self.wheels &gt; 0:</span><br><span class="line">            self.wheels -= 1</span><br></pre></td></tr></table></figure>

<p>Hereâ€™s some terminology:</p>
<ul>
<li><p><strong>class</strong>: a blueprint for how to build a certain type of object. The <code>Car</code> class (shown above) describes the behavior and data that all <code>Car</code> objects have.</p>
</li>
<li><p><strong>instance</strong>: a particular occurrence of a class. In Python, we create instances of a class like this:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; my_car = Car(&#x27;red&#x27;)</span><br></pre></td></tr></table></figure>

<p><code>my_car</code> is an instance of the <code>Car</code> class.</p>
</li>
<li><p><strong>data attributes</strong>: a variable that belongs to the instance (also called instance variables). Think of a data attribute as a quality of the object: cars have <em>wheels</em> and <em>color</em>, so we have given our <code>Car</code> instance <code>self.wheels</code> and <code>self.color</code> attributes. We can access attributes using <strong>dot notation</strong>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; my_car.color</span><br><span class="line">&#x27;red&#x27;</span><br><span class="line">&gt;&gt;&gt; my_car.wheels</span><br><span class="line">4</span><br></pre></td></tr></table></figure></li>
<li><p><strong>method</strong>: Methods are just like normal functions, except that they are bound to an instance. Think of a method as a â€œverbâ€ of the class: cars can <em>drive</em> and also <em>pop their tires</em>, so we have given our <code>Car</code> instance the methods <code>drive</code> and <code>pop_tire</code>. We call methods using <strong>dot notation</strong>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; my_car = Car(&#x27;red&#x27;)</span><br><span class="line">&gt;&gt;&gt; my_car.drive()</span><br><span class="line">&#x27;red car goes vroom!&#x27;</span><br></pre></td></tr></table></figure></li>
<li><p><strong>constructor</strong>: As with data abstraction, constructors build an instance of the class. The constructor for car objects is <code>Car(color)</code>. When Python calls that constructor, it immediately calls the <code>__init__</code> method. Thatâ€™s where we initialize the data attributes:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def __init__(self, color):</span><br><span class="line">    self.wheels = Car.num_wheels</span><br><span class="line">    self.color = color</span><br></pre></td></tr></table></figure>

<p>The constructor takes in one argument, <code>color</code>. As you can see, this constructor also creates the <code>self.wheels</code> and <code>self.color</code> attributes.</p>
</li>
<li><p><code>self</code>: in Python, <code>self</code> is the first parameter for many methods (in this class, we will only use methods whose first parameter is <code>self</code>). When a method is called, <code>self</code> is bound to an instance of the class. For example:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; my_car = Car(&#x27;red&#x27;)</span><br><span class="line">&gt;&gt;&gt; car.drive()</span><br></pre></td></tr></table></figure>

<p>Notice that the <code>drive</code> method takes in <code>self</code> as an argument, but it looks like we didnâ€™t pass one in! This is because the dot notation <em>implicitly</em> passes in <code>car</code> as <code>self</code> for us.</p>
</li>
</ul>
<h4 id="Cars"><a href="#Cars" class="headerlink" title="Cars"></a>Cars</h4><p>å¯¹ç»§æ‰¿æ›´æ·±çš„ç†è§£ï¼š</p>
<p>base classå°±ç›¸å½“äºæ™®é€‚çš„ä¸€ç±»ï¼Œæ¯”å¦‚è¯´åˆ°è½¦ï¼Œæˆ‘ä»¬å°±æƒ³åˆ°å®ƒæœ‰å››ä¸ªè½®å­ã€‚ä½†æ˜¯ç»§æ‰¿å®ƒçš„ä¸œè¥¿ï¼Œåº”è¯¥è¯´é’ˆå¯¹æ€§çš„ç»†åŒ–äº†ï¼Œæ¯”å¦‚å¡è½¦è€—æ²¹æ›´å¤šå•¥çš„</p>
<h4 id="accounts"><a href="#accounts" class="headerlink" title="accounts"></a>accounts</h4>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/08/13/CS61A/19-inheritance&lab7/" data-id="cld15jd1l000eggpg6mg82vci" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Computer-Sciense/" rel="tag">Computer Sciense</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-é—®é¢˜è§£å†³/kkk" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/08/12/%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/kkk/" class="article-date">
  <time datetime="2022-08-12T09:23:16.000Z" itemprop="datePublished">2022-08-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Q-A/">Q&A</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/08/12/%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/kkk/">pythonä¸­pipå®‰è£…åº“æ—¶å‡ºç°Read timed out</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="è§£å†³åŠæ³•1ï¼šå»¶é•¿timeoutæ—¶é—´"><a href="#è§£å†³åŠæ³•1ï¼šå»¶é•¿timeoutæ—¶é—´" class="headerlink" title="è§£å†³åŠæ³•1ï¼šå»¶é•¿timeoutæ—¶é—´"></a>è§£å†³åŠæ³•1ï¼šå»¶é•¿timeoutæ—¶é—´</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip --default-timeout=100 install Package</span><br></pre></td></tr></table></figure>

<p>å°†Packageæ›¿æ¢ä½ æ‰€éœ€è¦çš„åº“å°±è¡Œ</p>
<h3 id="è§£å†³åŠæ³•2ï¼šæ¢æºï¼Œå°†pipæºæ›´æ¢åˆ°å›½å†…é•œåƒï¼Œä¸ªäººæ¯”è¾ƒæ¨èè¿™ç§æ–¹æ³•"><a href="#è§£å†³åŠæ³•2ï¼šæ¢æºï¼Œå°†pipæºæ›´æ¢åˆ°å›½å†…é•œåƒï¼Œä¸ªäººæ¯”è¾ƒæ¨èè¿™ç§æ–¹æ³•" class="headerlink" title="è§£å†³åŠæ³•2ï¼šæ¢æºï¼Œå°†pipæºæ›´æ¢åˆ°å›½å†…é•œåƒï¼Œä¸ªäººæ¯”è¾ƒæ¨èè¿™ç§æ–¹æ³•"></a>è§£å†³åŠæ³•2ï¼šæ¢æºï¼Œå°†pipæºæ›´æ¢åˆ°å›½å†…é•œåƒï¼Œä¸ªäººæ¯”è¾ƒæ¨èè¿™ç§æ–¹æ³•</h3><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#ä¾‹å¦‚å®‰è£…scipyæ—¶ä½¿ç”¨è±†ç“£çš„æº</span><br><span class="line">pip install --index-url https://pypi.douban.com/simple scipy</span><br><span class="line">#ä½¿ç”¨æ¸…åå¤§å­¦çš„æº</span><br><span class="line">pip install -i https://pypi.tuna.tsinghua.edu.cn/simple â€“upgrade tensorflow-gpu</span><br></pre></td></tr></table></figure>

<p>è±†ç“£æºæ˜¯ç¥ï¼è¶…å¿«çš„å•Šï¼</p>
<p>å°†pipæºæ›´æ¢åˆ°å›½å†…é•œåƒ<br>ç”¨pipç®¡ç†å·¥å…·å®‰è£…åº“æ–‡ä»¶æ—¶ï¼Œé»˜è®¤ä½¿ç”¨å›½å¤–çš„æºæ–‡ä»¶ï¼Œå› æ­¤åœ¨å›½å†…çš„ä¸‹è½½é€Ÿåº¦ä¼šæ¯”è¾ƒæ…¢ï¼Œå¯èƒ½åªæœ‰50KB/sã€‚å¹¸å¥½ï¼Œå›½å†…çš„ä¸€äº›é¡¶çº§ç§‘ç ”æœºæ„å·²ç»ç»™æˆ‘ä»¬å‡†å¤‡å¥½äº†å„ç§é•œåƒï¼Œä¸‹è½½é€Ÿåº¦å¯è¾¾2MB/sã€‚<br>å…¶ä¸­ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„å›½å†…é•œåƒåŒ…æ‹¬ï¼š</p>
<blockquote>
<p>ï¼ˆ1ï¼‰é˜¿é‡Œäº‘ <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/pypi/simple/">http://mirrors.aliyun.com/pypi/simple/</a><br>ï¼ˆ2ï¼‰è±†ç“£<a target="_blank" rel="noopener" href="http://pypi.douban.com/simple/">http://pypi.douban.com/simple/</a><br>ï¼ˆ3ï¼‰æ¸…åå¤§å­¦ <a target="_blank" rel="noopener" href="https://pypi.tuna.tsinghua.edu.cn/simple/">https://pypi.tuna.tsinghua.edu.cn/simple/</a><br>ï¼ˆ4ï¼‰ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦ <a target="_blank" rel="noopener" href="http://pypi.mirrors.ustc.edu.cn/simple/">http://pypi.mirrors.ustc.edu.cn/simple/</a></p>
</blockquote>
<p>ä»¥æ¸…åæºä¸ºä¾‹ï¼Œè®¾ç½®æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<p>å¯ä»¥åœ¨ä½¿ç”¨pipçš„æ—¶å€™ï¼ŒåŠ ä¸Šå‚æ•°-iå’Œé•œåƒåœ°å€(å¦‚ <a target="_blank" rel="noopener" href="https://pypi.tuna.tsinghua.edu.cn/simple)%EF%BC%8C">https://pypi.tuna.tsinghua.edu.cn/simple)ï¼Œ</a></p>
<p>ä¾‹å¦‚ï¼š<code>pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pandas</code>ï¼Œè¿™æ ·å°±ä¼šä»æ¸…åé•œåƒå®‰è£…pandasåº“ã€‚</p>
<p>å‚è€ƒåšå®¢ï¼š<a target="_blank" rel="noopener" href="https://www.jb51.net/article/240227.htm">pythonä¸­pipå®‰è£…åº“æ—¶å‡ºç°Read timed outè§£å†³åŠæ³•_python_è„šæœ¬ä¹‹å®¶ (jb51.net)</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/08/12/%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/kkk/" data-id="cld15jd2v001vggpgbicahycz" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pip/" rel="tag">pip</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-CS61A/18-object" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/08/12/CS61A/18-object/" class="article-date">
  <time datetime="2022-08-12T03:33:24.000Z" itemprop="datePublished">2022-08-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CS61A/">CS61A</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/08/12/CS61A/18-object/">CS61A-18-object</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="OOP"><a href="#OOP" class="headerlink" title="OOP"></a>OOP</h2><blockquote>
<p>All values are objects in python</p>
</blockquote>
<p>ä¸€ä¸ªä½¿ç”¨ç¤ºä¾‹ï¼š<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221021210238791.png" alt="image-20221021210238791" style="zoom: 67%;" /></p>
<h2 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h2><h4 id="Class-statement"><a href="#Class-statement" class="headerlink" title="Class statement:"></a><strong>Class statement</strong>:</h4><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025154412857.png" alt="image-20221025154412857" style="zoom:50%;" />

<ul>
<li>create &amp; bind to <name> in the current environment</li>
<li><suite> create attributes of the class (not names in frames)</li>
</ul>
<p>å½“classè¢«callæ—¶ï¼š</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025155609284.png" alt="image-20221025155609284" style="zoom:80%;" />

<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025160240135.png" alt="image-20221025160240135" style="zoom:67%;" />

<ul>
<li>A new instance of that class is created</li>
<li><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025155648333.png" alt="image-20221025155648333" style="zoom:50%;" />methodè¢«callï¼Œ<code>self</code>è¢«bound,inité‡Œçš„å†…å®¹è¢«execute</li>
</ul>
<p><code>__init__</code>å«constructor.</p>
<p><strong>Object identity</strong>:</p>
<p>æ¯ä¸€ä¸ªç±»éƒ½æœ‰identity</p>
<p>æ‰€ä»¥:<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025161356737.png" alt="image-20221025161356737" style="zoom:67%;" /></p>
<h4 id="Methods"><a href="#Methods" class="headerlink" title="Methods"></a>Methods</h4><p>methodå°±æ˜¯å®šä¹‰åœ¨suiteé‡Œçš„function</p>
<p>ä½¿ç”¨è¯¥ç±»é‡Œé¢çš„å†…å®¹æ—¶è¦ä¼ é€’selfä½œä¸ºå‚æ•°</p>
<blockquote>
<p>These def statements create function objects as always, but their names are bound as attributes of the class</p>
<p>è™½æ˜¯å‡½æ•°,ä½†ä¸ä¼šå†frameé‡Œè¢«boundæˆå‡½æ•°,è€Œæ˜¯attributes of the class</p>
</blockquote>
<p><strong>invoking methods:</strong></p>
<blockquote>
<p>All invoked methods have access to the object via the self parameter, and so they can all  access and manipulate the objectâ€™s state</p>
</blockquote>
<p>methodå¯ä»¥é€šè¿‡selfæŒ‡é’ˆæ”¹å˜è‡ªå·±:<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025163809895.png" alt="image-20221025163809895" style="zoom:67%;" /></p>
<p>è°ƒç”¨æ—¶,è‡ªç”¨ä¼ å…¥selfå‚æ•°,ä¸ç”¨å¦å¤–ä¼ :<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025163843977.png" alt="image-20221025163843977" style="zoom:67%;" /></p>
<p><strong>Dot expressions</strong>:</p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025164256579.png" alt="image-20221025164256579" style="zoom:80%;" />

<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025164302600.png" alt="image-20221025164302600" style="zoom:80%;" />

<h4 id="Attributes"><a href="#Attributes" class="headerlink" title="Attributes"></a>Attributes</h4><p>å¦‚ä½•æŸ¥çœ‹attribute</p>
<p>çœ‹çœ‹attributeçš„å€¼:<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165146028.png" alt="image-20221025165146028" style="zoom:80%;" /></p>
<p>æ˜¯å¦æœ‰è¿™ä¸ªattribute:<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165316731.png" alt="image-20221025165316731" style="zoom:80%;" /></p>
<p>å…ˆçœ‹instanceé‡Œæœ‰æ²¡æœ‰,åçœ‹class</p>
<p><strong>pythonåŒºåˆ†methodå’Œfunction:</strong></p>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165534104.png" alt="image-20221025165534104" style="zoom:80%;" />

<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165719152.png" alt="image-20221025165719152"></p>
<p>evaluate a dot expression: </p>
<p><img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165743333.png" alt="image-20221025165743333"></p>
<p><strong>class attribute:</strong></p>
<blockquote>
<p>â€œsharedâ€ across all instances of a class because they are attributes  of the class, not the instance</p>
</blockquote>
<img src="https://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165948546.png" alt="image-20221025165948546" style="zoom:67%;" />

<p>è€Œinstanceçš„æ˜¯åœ¨inité‡Œå®šä¹‰çš„</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/08/12/CS61A/18-object/" data-id="cld15jd1h0008ggpg8hab7x0u" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Computer-Sciense/" rel="tag">Computer Sciense</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-CS61A/lab5" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/08/10/CS61A/lab5/" class="article-date">
  <time datetime="2022-08-10T03:33:24.000Z" itemprop="datePublished">2022-08-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CS61A/">CS61A</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/08/10/CS61A/lab5/">CS61A-lab5</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Lists"><a href="#Lists" class="headerlink" title="Lists"></a>Lists</h2><h3 id="Q1-Factors-List"><a href="#Q1-Factors-List" class="headerlink" title="Q1: Factors List"></a>Q1: Factors List</h3><p>Write <code>factors_list</code>, which takes a number <code>n</code> and returns a list of its factors in ascending order.</p>
<h5 id="è§£ç­”"><a href="#è§£ç­”" class="headerlink" title="è§£ç­”"></a>è§£ç­”</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">factors_list</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a list containing all the numbers that divide `n` evenly, except</span></span><br><span class="line"><span class="string">    for the number itself. Make sure the list is in ascending order.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; factors_list(6)</span></span><br><span class="line"><span class="string">    [1, 2, 3]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; factors_list(8)</span></span><br><span class="line"><span class="string">    [1, 2, 4]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; factors_list(28)</span></span><br><span class="line"><span class="string">    [1, 2, 4, 7, 14]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    all_factors = []</span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n // <span class="number">2</span> + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> n % (i + <span class="number">1</span>):</span><br><span class="line">            all_factors.append(i + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> all_factors</span><br></pre></td></tr></table></figure>

<h3 id="Q2-Flatten"><a href="#Q2-Flatten" class="headerlink" title="Q2: Flatten"></a>Q2: Flatten</h3><p>Write a function <code>flatten</code> that takes a list and â€œflattensâ€ it. The list could be a deep list, meaning that there could be a multiple layers of nesting within the list.</p>
<p>For example, one use case of <code>flatten</code> could be the following:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; lst = [1, [[2], 3], 4, [5, 6]]</span><br><span class="line">&gt;&gt;&gt; flatten(lst)</span><br><span class="line">[1, 2, 3, 4, 5, 6]</span><br></pre></td></tr></table></figure>

<p>Make sure your solution does not mutate the input list.</p>
<blockquote>
<p><strong>Hint</strong>: you can check if something is a list by using the built-in <code>type</code> function. For example:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; type(3) == list</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt; type([1, 2, 3]) == list</span><br><span class="line">True</span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="è§£ç­”-1"><a href="#è§£ç­”-1" class="headerlink" title="è§£ç­”"></a>è§£ç­”</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">flatten</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns a flattened version of list s.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; flatten([1, 2, 3])     # normal list</span></span><br><span class="line"><span class="string">    [1, 2, 3]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; x = [1, [2, 3], 4]     # deep list</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; flatten(x)</span></span><br><span class="line"><span class="string">    [1, 2, 3, 4]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; x # Ensure x is not mutated</span></span><br><span class="line"><span class="string">    [1, [2, 3], 4]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; x = [[1, [1, 1]], 1, [1, 1]] # deep list</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; flatten(x)</span></span><br><span class="line"><span class="string">    [1, 1, 1, 1, 1, 1]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; x</span></span><br><span class="line"><span class="string">    [[1, [1, 1]], 1, [1, 1]]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    f = []</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">rec_flat</span>(<span class="params">s, n</span>):</span><br><span class="line">        <span class="keyword">if</span> n == <span class="built_in">len</span>(s):</span><br><span class="line">            <span class="keyword">return</span> </span><br><span class="line">        <span class="keyword">elif</span> <span class="built_in">type</span>(s[n]) != <span class="built_in">list</span>:</span><br><span class="line">            f.append(s[n])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            rec_flat(s[n], <span class="number">0</span>)</span><br><span class="line">        rec_flat(s, n + <span class="number">1</span>)</span><br><span class="line">    rec_flat(s, <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> f</span><br></pre></td></tr></table></figure>

<p>passäº†ä½†æ˜¯æœ‰ç‚¹ä¸‘â€¦â€¦</p>
<p>å› ä¸ºè§‰å¾—æ€è·¯è›®é€’å½’çš„ï¼ˆå› ä¸ºè¦å€’å›æ¥ç”¨ä¹‹å‰çš„æ­¥éª¤ï¼‰ï¼Œæ‰€ä»¥é€‰æ‹©äº†é€’å½’ã€‚</p>
<p>æ€è·¯ï¼š</p>
<ol>
<li><p>æ‰«æè¿™ä¸ªlist</p>
</li>
<li><p>å¦‚æœå…ƒç´ ä¸æ˜¯listï¼Œå°±åŠ å…¥fï¼Œå»çœ‹ä¸‹ä¸€ä¸ªå…ƒç´ ï¼›</p>
</li>
<li><p>å¦‚æœå…ƒç´ æ˜¯listï¼Œé‚£å°±é’ˆå¯¹è¿™ä¸ªlistï¼Œä»1.å¼€å§‹</p>
</li>
<li><p>å¦‚æœæ‰«æå®Œäº†å°±ç»“æŸè¿™ä¸€æ¬¡æ‰«æ</p>
</li>
</ol>
<h2 id="Data-Abstraction"><a href="#Data-Abstraction" class="headerlink" title="Data Abstraction"></a>Data Abstraction</h2><p>Say we have an abstract data type for cities. A city has a name, a latitude coordinate, and a longitude coordinate.</p>
<p>Our data abstraction has one <strong>constructor</strong>:</p>
<ul>
<li><code>make_city(name, lat, lon)</code>: Creates a city object with the given name, latitude, and longitude.</li>
</ul>
<p>We also have the following <strong>selectors</strong> in order to get the information for each city:</p>
<ul>
<li><code>get_name(city)</code>: Returns the cityâ€™s name</li>
<li><code>get_lat(city)</code>: Returns the cityâ€™s latitude</li>
<li><code>get_lon(city)</code>: Returns the cityâ€™s longitude</li>
</ul>
<p>Here is how we would use the constructor and selectors to create cities and extract their information:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; berkeley = make_city(&#x27;Berkeley&#x27;, 122, 37)</span><br><span class="line">&gt;&gt;&gt; get_name(berkeley)</span><br><span class="line">&#x27;Berkeley&#x27;</span><br><span class="line">&gt;&gt;&gt; get_lat(berkeley)</span><br><span class="line">122</span><br><span class="line">&gt;&gt;&gt; new_york = make_city(&#x27;New York City&#x27;, 74, 40)</span><br><span class="line">&gt;&gt;&gt; get_lon(new_york)</span><br><span class="line">40</span><br></pre></td></tr></table></figure>

<p>All of the selector and constructor functions can be found in the lab file, if you are curious to see how they are implemented. However, the point of data abstraction is that we do not need to know how an abstract data type is implemented, but rather just how we can interact with and use the data type.</p>
<h3 id="Q3-Distance"><a href="#Q3-Distance" class="headerlink" title="Q3: Distance"></a>Q3: Distance</h3><p>We will now implement the function <code>distance</code>, which computes the distance between two city objects. Recall that the distance between two coordinate pairs <code>(x1, y1)</code> and <code>(x2, y2)</code> can be found by calculating the <code>sqrt</code> of <code>(x1 - x2)**2 + (y1 - y2)**2</code>. We have already imported <code>sqrt</code> for your convenience. Use the latitude and longitude of a city as its coordinates; youâ€™ll need to use the selectors to access this info!</p>
<h5 id="è§£ç­”-2"><a href="#è§£ç­”-2" class="headerlink" title="è§£ç­”"></a>è§£ç­”</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">distance</span>(<span class="params">city_a, city_b</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; city_a = make_city(&#x27;city_a&#x27;, 0, 1)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; city_b = make_city(&#x27;city_b&#x27;, 0, 2)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; distance(city_a, city_b)</span></span><br><span class="line"><span class="string">    1.0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; city_c = make_city(&#x27;city_c&#x27;, 6.5, 12)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; city_d = make_city(&#x27;city_d&#x27;, 2.5, 15)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; distance(city_c, city_d)</span></span><br><span class="line"><span class="string">    5.0</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    x1 = get_lat(city_a)</span><br><span class="line">    y1 = get_lon(city_a)</span><br><span class="line">    x2 = get_lat(city_b)</span><br><span class="line">    y2 = get_lon(city_b)</span><br><span class="line">    <span class="keyword">return</span> sqrt((x1 - x2)**<span class="number">2</span> + </span><br><span class="line">                (y1 - y2)**<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Q4-Closer-city"><a href="#Q4-Closer-city" class="headerlink" title="Q4: Closer city"></a>Q4: Closer city</h3><p>Next, implement <code>closer_city</code>, a function that takes a latitude, longitude, and two cities, and returns the name of the city that is relatively closer to the provided latitude and longitude.</p>
<p>You may only use the selectors and constructors introduced above and the <code>distance</code> function you just defined for this question.</p>
<blockquote>
<p><strong>Hint</strong>: How can you use your <code>distance</code> function to find the distance between the given location and each of the given cities?</p>
</blockquote>
<h5 id="è§£ç­”-3"><a href="#è§£ç­”-3" class="headerlink" title="è§£ç­”"></a>è§£ç­”</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">closer_city</span>(<span class="params">lat, lon, city_a, city_b</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Returns the name of either city_a or city_b, whichever is closest to</span></span><br><span class="line"><span class="string">    coordinate (lat, lon). If the two cities are the same distance away</span></span><br><span class="line"><span class="string">    from the coordinate, consider city_b to be the closer city.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; berkeley = make_city(&#x27;Berkeley&#x27;, 37.87, 112.26)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; stanford = make_city(&#x27;Stanford&#x27;, 34.05, 118.25)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; closer_city(38.33, 121.44, berkeley, stanford)</span></span><br><span class="line"><span class="string">    &#x27;Stanford&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; bucharest = make_city(&#x27;Bucharest&#x27;, 44.43, 26.10)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; vienna = make_city(&#x27;Vienna&#x27;, 48.20, 16.37)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; closer_city(41.29, 174.78, bucharest, vienna)</span></span><br><span class="line"><span class="string">    &#x27;Bucharest&#x27;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    sample_city = make_city(<span class="string">&#x27;sample&#x27;</span>, lat, lon)</span><br><span class="line">    dist_a = distance(sample_city, city_a)</span><br><span class="line">    dist_b = distance(sample_city, city_b)</span><br><span class="line">    <span class="keyword">if</span> dist_a &gt; dist_b:</span><br><span class="line">        <span class="keyword">return</span> get_name(city_b)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> get_name(city_a)</span><br></pre></td></tr></table></figure>

<h3 id="Q5-Donâ€™t-violate-the-abstraction-barrier"><a href="#Q5-Donâ€™t-violate-the-abstraction-barrier" class="headerlink" title="Q5: Donâ€™t violate the abstraction barrier!"></a>Q5: Donâ€™t violate the abstraction barrier!</h3><p>When writing functions that use an data abstraction, we should use the constructor(s) and selector(s) whenever possible instead of assuming the data abstractionâ€™s implementation. Relying on a data abstractionâ€™s underlying implementation is known as <em>violating the abstraction barrier</em>, and we never want to do this!</p>
<p>é€šè¿‡äº†,è¯´æ˜ä¹‹å‰çš„codeæ²¡æœ‰è¶Šè¿‡barrier!èŠœæ¹–~</p>
<h2 id="Trees"><a href="#Trees" class="headerlink" title="Trees"></a>Trees</h2><h3 id="Tree-review"><a href="#Tree-review" class="headerlink" title="Tree review"></a>Tree review</h3><p>A <code>tree</code> is a data structure that represents a hierarchy of information. A file system is a good example of a tree structure. For example, within your <code>cs61a</code> folder, you have folders separating your <code>projects</code>, <code>lab</code> assignments, and <code>homework</code>. The next level is folders that separate different assignments, <code>hw01</code>, <code>lab01</code>, <code>hog</code>, etc., and inside those are the files themselves, including the starter files and <code>ok</code>. Below is an incomplete diagram of what your <code>cs61a</code> directory might look like.</p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220810121735858.png" alt="cs61a_tree"></p>
<p>As you can see, unlike trees in nature, the tree abstract data type is drawn with the root at the top and the leaves at the bottom.</p>
<p>Some tree terminology:</p>
<ul>
<li><strong>root</strong>: the node at the top of the tree</li>
<li><strong>label</strong>: the value in a node</li>
<li><strong>branches</strong>: a list of trees directly under the treeâ€™s root</li>
<li><strong>leaf</strong>: a tree with zero branches</li>
<li><strong>node</strong>: any location within the tree (e.g., root node, leaf nodes, etc.)</li>
</ul>
<p>Our <code>tree</code> abstract data type consists of a root and a list of its <code>branches</code>. To create a tree and access its root value and branches, use the following constructor and selectors:</p>
<ul>
<li>Constructor<ul>
<li><code>tree(label, branches=[])</code>: creates a tree object with the given <code>label</code> value at its root node and list of <code>branches</code>. Notice that the second argument to this constructor, <code>branches</code>, is optional - if you want to make a tree with no branches, leave this argument empty.</li>
</ul>
</li>
<li>Selectors<ul>
<li><code>label(tree)</code>: returns the value in the root node of <code>tree</code>.</li>
<li><code>branches(tree)</code>: returns the list of branches of the given <code>tree</code>.</li>
</ul>
</li>
<li>Convenience function<ul>
<li><code>is_leaf(tree)</code>: returns <code>True</code> if <code>tree</code>â€˜s list of <code>branches</code> is empty, and <code>False</code> otherwise.</li>
</ul>
</li>
</ul>
<p>For example, the tree generated by</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">number_tree = tree(1,</span><br><span class="line">         [tree(2),</span><br><span class="line">          tree(3,</span><br><span class="line">               [tree(4),</span><br><span class="line">                tree(5)]),</span><br><span class="line">          tree(6,</span><br><span class="line">               [tree(7)])])</span><br></pre></td></tr></table></figure>

<p>would look like this:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">   1</span><br><span class="line"> / | \</span><br><span class="line">2  3  6</span><br><span class="line">  / \  \</span><br><span class="line"> 4   5  7</span><br></pre></td></tr></table></figure>

<p>To extract the number <code>3</code> from this tree, which is the label of the root of its second branch, we would do this:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">label(branches(number_tree)[1])</span><br></pre></td></tr></table></figure>

<p>The <code>print_tree</code> function prints out a tree in a human-readable form. The exact form follows the pattern illustrated above, where the root is unindented, and each of its branches is indented one level further.</p>
<p>def print_tree(t, indent=0):</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;Print a representation of this tree in which each node is</span><br><span class="line">indented by two spaces times its depth from the root.</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; print_tree(tree(1))</span><br><span class="line">1</span><br><span class="line">&gt;&gt;&gt; print_tree(tree(1, [tree(2)]))</span><br><span class="line">1</span><br><span class="line">  2</span><br><span class="line">&gt;&gt;&gt; numbers = tree(1, [tree(2), tree(3, [tree(4), tree(5)]), tree(6, [tree(7)])])</span><br><span class="line">&gt;&gt;&gt; print_tree(numbers)</span><br><span class="line">1</span><br><span class="line">  2</span><br><span class="line">  3</span><br><span class="line">    4</span><br><span class="line">    5</span><br><span class="line">  6</span><br><span class="line">    7</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">print(&#x27;  &#x27; * indent + str(label(t)))</span><br><span class="line">for b in branches(t):</span><br><span class="line">    print_tree(b, indent + 1)</span><br></pre></td></tr></table></figure>

<h3 id="Q6-Finding-Berries"><a href="#Q6-Finding-Berries" class="headerlink" title="Q6: Finding Berries!"></a>Q6: Finding Berries!</h3><p>The squirrels on campus need your help! There are a lot of trees on campus and the squirrels would like to know which ones contain berries. Define the function <code>berry_finder</code>, which takes in a tree and returns <code>True</code> if the tree contains a node with the value <code>&#39;berry&#39;</code> and <code>False</code> otherwise.</p>
<blockquote>
<p><strong>Hint</strong>: To iterate through each of the branches of a particular tree, you can consider using a <code>for</code> loop to get each branch.</p>
</blockquote>
<h5 id="å›ç­”"><a href="#å›ç­”" class="headerlink" title="å›ç­”"></a>å›ç­”</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">berry_finder</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns True if t contains a node with the value &#x27;berry&#x27; and </span></span><br><span class="line"><span class="string">    False otherwise.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; scrat = tree(&#x27;berry&#x27;)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; berry_finder(scrat)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; sproul = tree(&#x27;roots&#x27;, [tree(&#x27;branch1&#x27;, [tree(&#x27;leaf&#x27;), tree(&#x27;berry&#x27;)]), tree(&#x27;branch2&#x27;)])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; berry_finder(sproul)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; numbers = tree(1, [tree(2), tree(3, [tree(4), tree(5)]), tree(6, [tree(7)])])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; berry_finder(numbers)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t = tree(1, [tree(&#x27;berry&#x27;,[tree(&#x27;not berry&#x27;)])])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; berry_finder(t)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> label(t) == <span class="string">&#x27;berry&#x27;</span>:</span><br><span class="line">        is_berry = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        is_berry = <span class="literal">False</span> <span class="comment">#</span></span><br><span class="line">    <span class="keyword">for</span> branch <span class="keyword">in</span> branches(t):</span><br><span class="line">        is_berry = is_berry <span class="keyword">or</span> berry_finder(branch)</span><br><span class="line">    <span class="keyword">return</span> is_berry</span><br></pre></td></tr></table></figure>

<p>treeçš„å…ˆæ ¹åç»“ç‚¹çš„æœç´¢æ–¹å¼ã€‚</p>
<p>å¦‚ä½•è®©å®ƒæ‰¾åˆ°ä¸€ä¸ªberryå°±èƒ½è¿”å›<code>True</code>å‘¢ï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯å…¨éƒ¨ç”¨æˆ–è¯­å¥è¿æ¥çš„æ–¹å¼ã€‚</p>
<p>#å·éƒ¨åˆ†å¹¶ä¸ä¼šä½¿å…¶å‡ºç°ä¸€ä¸ª<code>False</code>å°±è¿”å›<code>False</code>.å› ä¸ºåœ¨ä¸åŒçš„frameå™¢(å¯ä»¥æ€è€ƒä¸€ä¸‹)</p>
<p>å¦ä¸€ç§å†™æ³•:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> label(t) == <span class="string">&#x27;berry&#x27;</span>:</span><br><span class="line">    is_berry = <span class="number">1</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    is_berry = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> branch <span class="keyword">in</span> branches(t):</span><br><span class="line">    is_berry += berry_finder(branch)</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">bool</span>(is_berry)</span><br></pre></td></tr></table></figure>

<p>è§£æ³•2:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> label(t) == <span class="string">&#x27;berry&#x27;</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"><span class="keyword">for</span> branch <span class="keyword">in</span> branches(t):</span><br><span class="line">    <span class="keyword">if</span> berry_finder(branch):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>



<h3 id="Q7-Sprout-leaves"><a href="#Q7-Sprout-leaves" class="headerlink" title="Q7: Sprout leaves"></a>Q7: Sprout leaves</h3><p>Define a function <code>sprout_leaves</code> that takes in a tree, <code>t</code>, and a list of leaves, <code>leaves</code>. It produces a new tree that is identical to <code>t</code>, but where each old leaf node has new branches, one for each leaf in <code>leaves</code>.</p>
<p>For example, say we have the tree <code>t = tree(1, [tree(2), tree(3, [tree(4)])])</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  1</span><br><span class="line"> / \</span><br><span class="line">2   3</span><br><span class="line">    |</span><br><span class="line">    4</span><br></pre></td></tr></table></figure>

<p>If we call <code>sprout_leaves(t, [5, 6])</code>, the result is the following tree:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">     1</span><br><span class="line">   /   \</span><br><span class="line">  2     3</span><br><span class="line"> / \    |</span><br><span class="line">5   6   4</span><br><span class="line">       / \</span><br><span class="line">      5   6</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">sprout_leaves</span>(<span class="params">t, leaves</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Sprout new leaves containing the data in leaves at each leaf in</span></span><br><span class="line"><span class="string">    the original tree t and return the resulting tree.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t1 = tree(1, [tree(2), tree(3)])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print_tree(t1)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">      2</span></span><br><span class="line"><span class="string">      3</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; new1 = sprout_leaves(t1, [4, 5])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print_tree(new1)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">      2</span></span><br><span class="line"><span class="string">        4</span></span><br><span class="line"><span class="string">        5</span></span><br><span class="line"><span class="string">      3</span></span><br><span class="line"><span class="string">        4</span></span><br><span class="line"><span class="string">        5</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t2 = tree(1, [tree(2, [tree(3)])])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print_tree(t2)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">      2</span></span><br><span class="line"><span class="string">        3</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; new2 = sprout_leaves(t2, [6, 1, 2])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print_tree(new2)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">      2</span></span><br><span class="line"><span class="string">        3</span></span><br><span class="line"><span class="string">          6</span></span><br><span class="line"><span class="string">          1</span></span><br><span class="line"><span class="string">          2</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> is_leaf(t):</span><br><span class="line">        <span class="keyword">return</span> tree(label(t), [tree(i) <span class="keyword">for</span> i <span class="keyword">in</span> leaves])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> tree(label(t),</span><br><span class="line">                    [sprout_leaves(j, leaves) <span class="keyword">for</span> j <span class="keyword">in</span> branches(t)])</span><br></pre></td></tr></table></figure>

<p>ä¸èƒ½ç”¨append</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/08/10/CS61A/lab5/" data-id="cld15jd2q001gggpg62x41ko2" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Computer-Sciense/" rel="tag">Computer Sciense</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-CS61A/14-mutability" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/08/09/CS61A/14-mutability/" class="article-date">
  <time datetime="2022-08-09T10:33:24.000Z" itemprop="datePublished">2022-08-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CS61A/">CS61A</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/08/09/CS61A/14-mutability/">CS61A-14-Mutability</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Objects"><a href="#Objects" class="headerlink" title="Objects"></a>Objects</h2><p>ç¤ºä¾‹ï¼š<code>datetime</code></p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809175808356.png" alt="datetime"></p>
<h5 id="Objectæ˜¯ä»€ä¹ˆ"><a href="#Objectæ˜¯ä»€ä¹ˆ" class="headerlink" title="Objectæ˜¯ä»€ä¹ˆ"></a>Objectæ˜¯ä»€ä¹ˆ</h5><p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809180013314.png"></p>
<h2 id="Exampleï¼šStrings"><a href="#Exampleï¼šStrings" class="headerlink" title="Exampleï¼šStrings"></a>Exampleï¼šStrings</h2><p>Strings are objects</p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809180058638.png" alt="å¯¹å¯¹è±¡stringä½¿ç”¨function"></p>
<h5 id="Representing-Strings-ASCII"><a href="#Representing-Strings-ASCII" class="headerlink" title="Representing Strings:ASCII"></a>Representing Strings:ASCII</h5><p>æˆ‘ä»¬ç†Ÿæ‚‰çš„asciiç¼–ç </p>
<p>Line feed:æ¢è¡Œ</p>
<p>Bellï¼šring the bell</p>
<p>æ¨ªè½´å’Œç«–è½´çš„åæ ‡è¡¨ç¤º16è¿›åˆ¶çš„ä¸¤ä¸ªæ•°å­—</p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809180351403.png" alt="ASCII"></p>
<p>æŸ¥çœ‹asciiç¼–ç ï¼š</p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809180454481.png"></p>
<p>æ‰€ä»¥Aåœ¨è¡¨æ ¼é‡Œåæ ‡ä¸º<code>(4, 1)</code>çš„åœ°æ–¹</p>
<p>å‰ä¸¤è¡Œçš„ä½¿ç”¨ï¼š</p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809180557019.png"></p>
<p>å®å®å®ï¼</p>
<h5 id="Unicode"><a href="#Unicode" class="headerlink" title="Unicode"></a>Unicode</h5><p>å¯ä»¥è¡¨ç¤ºä¸­æ–‡äº†</p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809180747651.png" alt="è¿˜æœ‰emojiå‘¢"></p>
<p>ä¸€äº›ç”¨æ³•</p>
<p>nameï¼šè¿™ä¸ªcharacterçš„åå­—</p>
<p>lookï¼šæ‰¾è¿™ä¸ªåå­—çš„character</p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809180920488.png" alt="Look how smiled it is!"></p>
<p>å…¶ä»–emojiï¼š<img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809181030778.png" alt="Hello,baby!"></p>
<p>æŸ¥çœ‹è¡¨ç¤ºè¿™ä¸ªbaby emojiçš„ç¼–ç ï¼Œä½¿ç”¨<code>encode()</code>:<img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809181146314.png" alt="Açš„encodingå°±æ˜¯A"></p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809181927729.png" alt="ç©èµ·æ¥äº†"></p>
<h2 id="Mutation-Operations"><a href="#Mutation-Operations" class="headerlink" title="Mutation Operations"></a>Mutation Operations</h2><blockquote>
<p>Objects can actually change value overtime.</p>
</blockquote>
<p>å¼•å…¥ä¾‹å­ï¼š</p>
<p><code>pop()</code>:ä¸¢æ‰äº†æœ€åä¸€ä¸ªï¼Œreturnä¸¢æ‰çš„è¿™ä¸ª</p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809181644553.png" alt="suitsçš„æ•…äº‹"></p>
<p>å¯ä»¥å‘ç°<code>original_suits</code>å’Œ<code>suits</code>ä¸€èµ·å˜äº†</p>
<h5 id="some-objects-can-change"><a href="#some-objects-can-change" class="headerlink" title="some objects can change"></a>some objects can change</h5><p>Jessicaé•¿å¤§äº†ï¼š</p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809182130011.png" alt="image-20220809182130011" style="zoom:67%;" /><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809182153182.png" alt="image-20220809182153182" style="zoom:67%;" /></p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809182209059.png" alt="image-20220809182209059" style="zoom:67%;" /><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809182222369.png" alt="image-20220809182222369" style="zoom:67%;" /></p>
<p>æ”¹å˜äº†boundè¿‡å»çš„å˜é‡<code>jessica</code>ä¹Ÿä¼šæ”¹å˜è¿™ä¸ªobject</p>
<p>mutationï¼šæ”¹å˜ï¼Œå˜å¼‚</p>
<p>mutableï¼šå¯ä»¥å˜çš„ï¼ˆåƒtupleå°±ä¸èƒ½å˜å“¦ï¼‰</p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809182051529.png" alt="demo"></p>
<p>listå’Œdictåªæ˜¯ä¸¾ä¾‹ã€‚</p>
<p>æ‹¿dictä¸ºä¾‹ï¼š</p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809182451497.png" alt="å¯¹å­—å…¸å¯¹è±¡çš„æ“ä½œ"></p>
<h5 id="Mutation-can-happen-within-a-function-call"><a href="#Mutation-can-happen-within-a-function-call" class="headerlink" title="Mutation can happen within a function call"></a>Mutation can happen within a function call</h5><p>ä½¿ç”¨<code>mystery()</code>æ”¹å˜äº†<code>four</code></p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809182551903.png"></p>
<p>Letâ€™s have a look at the frame:<img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809182807015.png" alt="environmental frame"></p>
<p>and this <code>mystery()</code> can do the same thing:<img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809182739319.png"></p>
<p>If no arguments:</p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809182912832.png" alt="another_mystery()has no arguments"></p>
<p>It still work!</p>
<p>Thatâ€™s because it can search the global frame and it just find <code>four</code>!</p>
<h2 id="Tuples"><a href="#Tuples" class="headerlink" title="Tuples"></a>Tuples</h2><blockquote>
<p>Immutable sequences.</p>
</blockquote>
<p>If you dont type <code>()</code> and just type a sequence, you can still get a tuple!</p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809183217619.png" alt="still tuple"></p>
<p>Make a empty tuple:<img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809183249435.png"></p>
<p>Call tuple:<img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809183318528.png"></p>
<p>If I wanna have a tuple which has only one argument:<img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809183408203.png"></p>
<p>some operations:<img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809183445382.png"></p>
<p>Because itâ€™s <strong>immutable</strong>,so we can use it as <strong>a key in dict</strong>:</p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809183618643.png" alt="mutable lsts are not allowed"></p>
<h5 id="Tuples-r-immutable"><a href="#Tuples-r-immutable" class="headerlink" title="Tuples r immutable"></a>Tuples r immutable</h5><p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809183819513.png" alt="immutable"></p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809184010513.png"></p>
<p>å¯ä»¥å˜çš„æƒ…å†µ:</p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809184023658.png" alt="somehow mutable"></p>
<h2 id="Mutation"><a href="#Mutation" class="headerlink" title="Mutation"></a>Mutation</h2><h5 id="Sameness-and-Change"><a href="#Sameness-and-Change" class="headerlink" title="Sameness and Change"></a>Sameness and Change</h5><p>åœ¨å·¦ä¾§,aå’Œbæ˜¯ the same list,æ‰€ä»¥ä¼šä¸€èµ·å˜</p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809192002856.png"></p>
<h5 id="Identity-Operators"><a href="#Identity-Operators" class="headerlink" title="Identity Operators"></a>Identity Operators</h5><p>ä¸¤ä¸ªç¬¦å·çš„åŒºåˆ«:<code>is</code> is more stricted</p>
<p><code>is</code>:the same</p>
<p><code>==</code>:equal</p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809192131090.png" alt="Difference"></p>
<p>eg.</p>
<p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809192249745.png" alt="example"></p>
<h5 id="Mutable-default-arguments-r-dangerous"><a href="#Mutable-default-arguments-r-dangerous" class="headerlink" title="Mutable default arguments r dangerous"></a>Mutable default arguments r dangerous</h5><p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809192611557.png"></p>
<p>ç¬¬äºŒæ¬¡åŠä¹‹å call fçš„æ—¶å€™,s is bound to the same list.</p>
<p>å› ä¸ºé»˜è®¤å€¼æ˜¯å‡½æ•°å†…å˜é‡çš„ä¸€éƒ¨åˆ†,ä¸ä¼šå› ä¸ºcallå®ƒå°±é‡æ–°ç”Ÿæˆ</p>
<blockquote>
<p>Q:Hi,does anyone knows why I call f 3 times and s is bound to the same list instead of create a new list?</p>
<p>A:Default arguments in python are <strong>evaluated <em>once</em></strong> when the function is <strong>defined</strong>, <em>not</em> each time the function is <strong>called</strong>. This means that if you have a mutable default argument and mutate it, you will have mutated that object for all future calls to the function as well.</p>
</blockquote>
<h2 id="Mutable-Functions"><a href="#Mutable-Functions" class="headerlink" title="Mutable Functions"></a>Mutable Functions</h2><h5 id="A-function-with-behavior-that-varies-over-time"><a href="#A-function-with-behavior-that-varies-over-time" class="headerlink" title="A function with behavior that varies over time"></a>A function with behavior that varies over time</h5><p>example:<img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809194353626.png"></p>
<h5 id="Mutable-values-amp-persistent-local-state"><a href="#Mutable-values-amp-persistent-local-state" class="headerlink" title="Mutable values &amp; persistent local state"></a>Mutable values &amp; persistent local state</h5><p><img src="http://camillle-img.oss-cn-hangzhou.aliyuncs.com/img/image-20220809205213464.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/08/09/CS61A/14-mutability/" data-id="cld15jd160002ggpg5pidclq2" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Computer-Sciense/" rel="tag">Computer Sciense</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CS61A/">CS61A</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Essay-Notes/">Essay Notes</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Q-A/">Q&A</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E5%AD%97%E8%99%9A%E6%8B%9F%E4%BA%BA/">æ•°å­—è™šæ‹Ÿäºº</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">æå®æ¯…æœºå™¨å­¦ä¹ </a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AF%BE%E5%86%85/">è¯¾å†…</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Computer-Sciense/" rel="tag">Computer Sciense</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Deep-learning/" rel="tag">Deep learning</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Security/" rel="tag">Security</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UE/" rel="tag">UE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/compiler/" rel="tag">compiler</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pip/" rel="tag">pip</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Computer-Sciense/" style="font-size: 20px;">Computer Sciense</a> <a href="/tags/Deep-learning/" style="font-size: 10px;">Deep learning</a> <a href="/tags/Security/" style="font-size: 10px;">Security</a> <a href="/tags/UE/" style="font-size: 15px;">UE</a> <a href="/tags/compiler/" style="font-size: 10px;">compiler</a> <a href="/tags/pip/" style="font-size: 10px;">pip</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/01/18/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2022/11/12/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/">CS61A-18-object</a>
          </li>
        
          <li>
            <a href="/2022/11/06/CS61A/25-users/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/11/04/CS61A/21-2-project%20Ants/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/11/02/CS61A/22-effiency/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>